webpackJsonp([0],{"+GxS":function(e,a,t){var n=t("NYhm"),i=t("TF39"),o=t("A4ra");e.exports=function(e,a){var t=(i.Object||{})[e]||Object[e],s={};s[e]=a(t),n(n.S+n.F*o(function(){t(1)}),"Object",s)}},"2+Um":function(e,a,t){var n=t("z/GF"),i=t("mkio"),o=t("//qa").f;e.exports=function(e){return function(a){for(var t,s=i(a),r=n(s),l=r.length,c=0,f=[];l>c;)o.call(s,t=r[c++])&&f.push(e?[t,s[t]]:s[t]);return f}}},MgeX:function(e,a,t){e.exports={default:t("yRvA"),__esModule:!0}},VtFQ:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("MgeX"),i=t.n(n),o=t("ZLEe"),s=t.n(o),r=t("P9l9"),l=t("dia3"),c={},f={data:function(){return{userperadmin:{},breadNavInfo:{current1:"",level1Items:["查看渠道商信息","渠道列表"],current2:"",level2Items:["编辑渠道信息","渠道历史记录"]},searchProxyParams:{loading:!1,selected:"",list:[]},proxyInfo:{loading:!1,first:0,tableData:[],pagination:{currentPage:1,pageSize:10,pageSizes:[10,20,50,100,200,500,1e3],dataSize:0},actionInfo:{loading:!1,proxyName:"",bankAccount:"",bank:"",dutyParagraph:"",phone:"",address:"",contacts:"",mobileno:"",email:""},chartPermissionInfo:{registerChartPermission:!1,loginChartPermission:!1,applyChartPermission:!1,loanAcctChartPermission:!1,cashNumCharPermission:!1,firstCashAmtChartPermission:!1,totalCashAmtChartPermission:!1}},PermissionInfo:{visible:!1,loading:!1,list:[]},firstLevelChannelRewardInfo:{visible:!1,loading:!1,tableData:[],editData:[]},searchChannelParams:{loading:!1,parameter:{proxyName:"",proxyId:"",channelName:"",channel:"",level:"",admin:"",status:"",appSelected:""},channelNameList:[],channelList:[],levelList:[{name:"全部渠道",value:""},{name:"一级渠道",value:1},{name:"二级渠道",value:2}],adminList:[],stateList:[{name:"全部状态",value:""},{name:"启用",value:1},{name:"禁用",value:0}]},channelInfo:{loading:!1,first:0,tableData:[],pagination:{currentPage:1,pageSize:10,pageSizes:[10,20,50,100,500,1e3],dataSize:0}},actionChannelInfo:{loading:!1,info:{channelId:"",optimizationId:"",proxyName:"",level:"",channelName:"",channelNo:"",channel:"",isCreate:"",appSelected:"",attributeSelected:"",typeSelected:"",divisionSelected:"",url:"",fcTypeSelected:"",isStep:"",stepData:"",rewards:"",cycleSelected:"",costSelected:"",adminSelected:"",synchronous:0,linkage:"",optiContent:[],optiRate:"",optiRateOld:"",optiTime:"",optiTimeOld:""},selectListInfo:{appList:[],attributeList:[],typeList:[],divisionList:[],fcTypeList:[],cycleList:[],costList:[],adminList:[]},rewardInfo:{list:[],temp:[],editList:[],fcUnitText:""}},firstLevelFcDataList:[],mainReward:{channelId:"",data:{}},channelHistoryInfo:{channelName:"",fcInfo:{loading:!1,tableData:[]},optiInfo:{loading:!1,tableData:[]}},channelStatusInfo:{visible:!1,statusText:"",channelName:"",channelId:"",channel:"",status:""},optiInfo:{loading:!1,visible:!1},qudaoList:!1,details:!1,qudaoListStart:!1,qudaoListEdit:!1,qudaoListHistory:!1}},mounted:function(){try{for(var e=JSON.parse(unescape(sessionStorage.getItem("userPermiss"))),a=0;a<e.data.length;a++)if("01"==e.data[a].meta&&e.data[a].children&&e.data[a].children.length>0)for(var t=0;t<e.data[a].children.length;t++)if("0101"==e.data[a].children[t].meta&&e.data[a].children[t].children&&e.data[a].children[t].children.length>0)for(var n=0;n<e.data[a].children[t].children.length;n++)"010101"==e.data[a].children[t].children[n].meta?this.qudaoList="0"!=e.data[a].children[t].children[n].show:"010105"==e.data[a].children[t].children[n].meta?this.details="0"!=e.data[a].children[t].children[n].show:"010102"==e.data[a].children[t].children[n].meta?this.qudaoListStart="0"!=e.data[a].children[t].children[n].show:"010103"==e.data[a].children[t].children[n].meta?this.qudaoListEdit="0"!=e.data[a].children[t].children[n].show:"010104"==e.data[a].children[t].children[n].meta&&(this.qudaoListHistory="0"!=e.data[a].children[t].children[n].show)}catch(e){}this.userperadmin=JSON.parse(localStorage.getItem("userperadmin")),this.getProxyNameListFun(),this.getProxyInfoListFun()},computed:{fcText:function(){switch(this.actionChannelInfo.info.fcTypeSelected){case 26:return this.actionChannelInfo.rewardInfo.fcUnitText="元","注册用户";case 27:return this.actionChannelInfo.rewardInfo.fcUnitText="元","首提用户";case 28:return this.actionChannelInfo.rewardInfo.fcUnitText="%","分成比例";case 29:return this.actionChannelInfo.rewardInfo.fcUnitText="元","开户成功用户数"}}},filters:{fcNumberFilter:function(e){for(var a=0;a<c.length;a++)if(e===c[a].id)return c[a].other.split(",")[0]},fcNumber1Filter:function(e){for(var a=0;a<c.length;a++)if(e===c[a].id)return c[a].other.split(",")[1]},fcNumber2Filter:function(e){for(var a=0;a<c.length;a++)if(e===c[a].id)return c[a].other.split(",")[2]},toggleStatus:function(e){return 1===e?"启用":"禁用"},fcFormatter:function(e){return e?parseInt(e.max)+1:0},channelStatusFormatterSet:function(e){return 1===e?"启用":"禁用"},optiTimeFormmater:function(e){return 0!==e?Object(l.b)(e):""},rewardTypeIdFilter:function(e){for(var a=0;a<c.length;a++)if(e===c[a].id)return c[a].name}},methods:{getPayCompanyFun:function(e,a,t){var n=this,i={sessionid:this.userperadmin.sessionid,proxyid:e};Object(r.N)(i).then(function(e){for(var i=e.data.payCompanyList,o=n.actionChannelInfo.selectListInfo.appList,s=[],r=[],l=0;l<i.length;l++)for(var c=0;c<o.length;c++)if(i[l].appid===o[c].id){if(r.includes(i[l].appid))continue;r.push(i[l].appid),s.push({id:o[c].id,name:o[c].name})}"fromActionChannel"===a?n.getRewardMainFun(t,s):n.getFirstLevelRewardListFun(t,s)}).catch(function(e){n.toast("服务器错误，请联系管理员","error")})},getFirstLevelRewardListFun:function(e,a){for(var t=this,n=[],i=0;i<a.length;i++)n.push(a[i].id);var o={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n.toString()};this.firstLevelChannelRewardInfo.visible=!0,Object(r.W)(o).then(function(e){if(0===e.data.status){var a=t;t.firstLevelChannelRewardInfo.tableData=[],e.data.rewardList.forEach(function(e){e.rewardPrice=a.rewardPriceFormatter(e.rewardPrice),a.firstLevelChannelRewardInfo.tableData.push(e)})}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error");t.firstLevelChannelRewardInfo.loading=!1}).catch(function(e){t.firstLevelChannelRewardInfo.loading=!1,t.toast("服务器错误，请联系管理员","error")})},getRewardMainFun:function(e,a){for(var t=this,n=[],i=0;i<a.length;i++)n.push(a[i].id);n=n.toString();var o={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n};Object(r.X)(o).then(function(a){if(0===a.data.status){var n=a.data.mainReward;t.firstLevelFcDataList.splice(0);var i=s()(n);t.mainReward.channelId=e.id;for(var o=0;o<i.length;o++){var r;if(0!==n[i[o]].length){if(1==n[i[o]].length)r={modified:!0,channelId:n[i[o]][0].channelId,id:n[i[o]][0].id,date:n[i[o]][0].date,appid:parseInt(i[o]),isStep:0,fcType:n[i[o]][0].typeId,settlementCycle:0===n[i[o]][0].settlementCycle?"":n[i[o]][0].settlementCycle,cacCostType:0===n[i[o]][0].costing?"":n[i[o]][0].costing,stepData:n[i[o]][0].price,fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}};else{r={channelId:n[i[o]][0].channelId,id:n[i[o]][0].id,date:n[i[o]][0].date,appid:parseInt(i[o]),isStep:1,fcType:n[i[o]][0].typeId,settlementCycle:0===n[i[o]][0].settlementCycle?"":n[i[o]][0].settlementCycle,cacCostType:0===n[i[o]][0].costing?"":n[i[o]][0].costing};var l={length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]};l.mins=[0],l.rewards=[],n[i[o]].forEach(function(e,a){a===n[i[o]].length-1?l.last.price=e.price:(l.mins.push(e.max+1),l.rewards.push({max:e.max,price:e.price}))}),l.length=n[i[o]].length-1,r.fcTypeData=l}t.firstLevelFcDataList.push(r)}else t.firstLevelFcDataList.push({modified:!1,appid:parseInt(i[o]),isStep:0,fcType:26,settlementCycle:"",cacCostType:"",stepData:"",fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}})}}else 1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员1","error")})},appFormatter:function(e,a,t){var n=t;return this.actionChannelInfo.selectListInfo.appList.forEach(function(e){e.id===t&&(n=e.name)}),n},indexFormatter:function(e){return this.proxyInfo.pagination.pageSize*(this.proxyInfo.pagination.currentPage-1)+1+e},indexFormatter1:function(e){return this.channelInfo.pagination.pageSize*(this.channelInfo.pagination.currentPage-1)+1+e},editOptiInfoFun:function(e,a){this.resetChannelInfoFun(),this.optiInfo.visible=!0,this.editChannelFun(e)},toggleOptiDialogFun:function(){this.optiInfo.visible=!this.optiInfo.visible},saveChannelOptiFun:function(){this.saveChannelInfoFun(1)},toggleStatusDialogFun:function(){this.channelStatusInfo.visible=!this.channelStatusInfo.visible},toggleStatusFun:function(e,a){this.channelStatusInfo.channelName=e.channelName,this.channelStatusInfo.channelId=e.id,this.channelStatusInfo.channel=e.channel,this.channelStatusInfo.status=e.status,1===e.status?this.channelStatusInfo.statusText="禁用":this.channelStatusInfo.statusText="启用",this.toggleStatusDialogFun()},saveChannelStatusFun:function(){var e=this,a={sessionid:this.userperadmin.sessionid,channelId:this.channelStatusInfo.channelId,status:1===this.channelStatusInfo.status?0:1};Object(r._4)(a).then(function(a){0===a.data.status?(e.toggleStatusDialogFun(),e.getChannelListFun()):1===a.data.status?e.$router.replace("/login"):e.toast(a.data.statusMsg,"error")}).catch(function(a){e.toast("服务器错误，请联系管理员","error")})},getChannelHistoryFun:function(e,a){this.actionChannelInfo.info.channelId=e.id,this.channelHistoryInfo.channelName=e.channelName,this.toggleBreadNav("current2",1),this.getChannelFcHistoryFun(e),this.getOptimizationInfoFun()},getChannelFcHistoryFun:function(e){var a=this,t={sessionid:this.userperadmin.sessionid,channelId:e.id};Object(r.Y)(t).then(function(e){if(0===e.data.status){a.channelHistoryInfo.fcInfo.tableData=e.data.rewardList;var t=a;a.channelHistoryInfo.fcInfo.tableData.forEach(function(e,a,n){n[a].rewardPrice=t.rewardPriceFormatter(e.rewardPrice,1)})}else 1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.toast("服务器错误，请联系管理员","error")})},timeStempFormatter:function(e,a,t){return Object(l.c)(e.date)},timeStempFormatter1:function(e,a,t){return Object(l.c)(e.startDate)},timeStempFormatter2:function(e,a,t){return Object(l.c)(e.updateDate)},cancelSaveChannelFun:function(){this.toggleBreadNav("current2",""),this.resetChannelInfoFun()},saveChannelInfoFun:function(e){var a=this,t="";if(""===this.actionChannelInfo.info.optiRate||""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime)if(""===this.actionChannelInfo.info.optiRate&&""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime)this.toast("“优化比例”和“优化起始时间”必须同时输入","warning");else{if(t=""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime?Object(l.a)(this.actionChannelInfo.info.optiTime):"",this.actionChannelInfo.info.optiRate!==this.actionChannelInfo.info.optiRateOld||this.actionChannelInfo.info.optiTime!==this.actionChannelInfo.info.optiTimeOld){var n=new Date;this.actionChannelInfo.info.optimizationId=n.getTime()}var i=new Date;i=i.getTime();var o={sessionid:this.userperadmin.sessionid,proxyId:this.searchChannelParams.parameter.proxyId,channelId:this.actionChannelInfo.info.channelId,id:this.actionChannelInfo.info.optimizationId,adminId:this.userperadmin.admin.id,synchronous:this.actionChannelInfo.info.synchronous,linkage:this.actionChannelInfo.info.linkage,optimization:this.actionChannelInfo.info.optiRate,startDate:t,updateDate:i};1===e?this.optiInfo.loading=!0:this.actionChannelInfo.loading=!0,Object(r._2)(o).then(function(t){a.actionChannelInfo.loading=!1,a.optiInfo.loading=!1,0===t.data.status?(1===e?a.toggleOptiDialogFun():a.toggleBreadNav("current2",""),a.resetChannelInfoFun(),a.getChannelListFun()):1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.optiInfo.loading=!1,a.actionChannelInfo.loading=!1,a.toast("服务器错误，请联系管理员1","error")})}else this.toast("“优化比例”和“优化起始时间”必须同时输入","warning")},resetChannelInfoFun:function(){this.actionChannelInfo.info.proxyName="",this.actionChannelInfo.info.level="",this.actionChannelInfo.info.channelName="",this.actionChannelInfo.info.channelNo="",this.actionChannelInfo.info.channel="",this.actionChannelInfo.info.isCreate="",this.actionChannelInfo.info.appSelected="",this.actionChannelInfo.info.attributeSelected="",this.actionChannelInfo.info.typeSelected="",this.actionChannelInfo.info.divisionSelected="",this.actionChannelInfo.info.url="",this.actionChannelInfo.info.fcTypeSelected="",this.actionChannelInfo.info.isStep="",this.actionChannelInfo.info.stepData="",this.actionChannelInfo.info.cycleSelected="",this.actionChannelInfo.info.costSelected="",this.actionChannelInfo.info.adminSelected="",this.actionChannelInfo.rewardInfo.list=[],this.actionChannelInfo.info.optimizationId="",this.actionChannelInfo.info.optiTime="",this.actionChannelInfo.info.optiTimeOld="",this.actionChannelInfo.info.optiRate="",this.actionChannelInfo.info.optiRateOld="",this.actionChannelInfo.info.linkage="",this.actionChannelInfo.info.optiContent=[],this.actionChannelInfo.info.synchronous=0},editChannelFun:function(e,a){if(this.optiInfo.visible)this.actionChannelInfo.info.channelId=e.id,this.actionChannelInfo.info.optimizationId=e.optimizationId,this.actionChannelInfo.info.synchronous=e.synchronous,this.getOptimizationInfoFun(e.optimizationId);else{this.actionChannelInfo.loading=!0,this.toggleBreadNav("current2",0),this.actionChannelInfo.info.channelId=e.id,this.actionChannelInfo.info.optimizationId=e.optimizationId,this.actionChannelInfo.info.proxyName=this.searchChannelParams.parameter.proxyName,this.actionChannelInfo.info.channelName=e.channelName,this.actionChannelInfo.info.channelNo=e.channelNo,this.actionChannelInfo.info.channel=e.channel,this.actionChannelInfo.info.isCreate=e.isCreate,this.actionChannelInfo.info.appSelected=e.appId,this.actionChannelInfo.info.attributeSelected=e.attribute,this.actionChannelInfo.info.typeSelected=e.type,this.actionChannelInfo.info.divisionSelected=e.subdivision,this.actionChannelInfo.info.url=e.url,this.actionChannelInfo.info.fcTypeSelected=e.rewardTypeId,this.actionChannelInfo.info.synchronous=e.synchronous,1===e.level?this.actionChannelInfo.info.level="一级渠道":this.actionChannelInfo.info.level="二级渠道";var t=this;this.getEditChannelSelectListFun(function(a){a&&(1===e.level?t.getPayCompanyFun(e.proxyId,"fromActionChannel",e):t.getRewardListFun(e.rewardId))}),this.getOptimizationInfoFun(e.optimizationId)}},getOptimizationInfoFun:function(e){var a,t=this;if(e){if(0===e)return;a={sessionid:this.userperadmin.sessionid,optimizationId:e}}else a={sessionid:this.userperadmin.sessionid,channelId:this.actionChannelInfo.info.channelId};Object(r.I)(a).then(function(a){0===a.data.status?(t.actionChannelInfo.loading=!1,e?(a.data.optimizationList[0].optimization&&(t.actionChannelInfo.info.optiRate=a.data.optimizationList[0].optimization),a.data.optimizationList[0].startDate&&(t.actionChannelInfo.info.optiTime=Object(l.b)(a.data.optimizationList[0].startDate)),a.data.optimizationList[0].id&&(t.actionChannelInfo.info.optimizationId=a.data.optimizationList[0].id),a.data.optimizationList[0].linkage&&(t.actionChannelInfo.info.linkage=a.data.optimizationList[0].linkage)):t.channelHistoryInfo.optiInfo.tableData=a.data.optimizationList):1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.actionChannelInfo.loading=!1,t.toast("服务器错误，请联系管理员1","error")})},getRewardListFun:function(e){var a=this,t={sessionid:this.userperadmin.sessionid,rewardId:e};Object(r.W)(t).then(function(e){if(0===e.data.status){a.actionChannelInfo.loading=!1,a.actionChannelInfo.rewardInfo.list=e.data.rewardList;var t=e.data.rewardList.length;0!==t&&(1===t?(a.actionChannelInfo.info.isStep=0,a.actionChannelInfo.info.stepData=e.data.rewardList[0].price,a.actionChannelInfo.info.cycleSelected=e.data.rewardList[0].settlementCycle,a.actionChannelInfo.info.costSelected=e.data.rewardList[0].costing,a.actionChannelInfo.info.adminSelected=e.data.rewardList[0].adminId.toString()):(a.actionChannelInfo.info.isStep=1,a.actionChannelInfo.info.stepData=e.data.rewardList[0].price,a.actionChannelInfo.info.cycleSelected=e.data.rewardList[0].settlementCycle,a.actionChannelInfo.info.costSelected=e.data.rewardList[0].costing,a.actionChannelInfo.info.adminSelected=e.data.rewardList[0].adminId.toString()))}else 1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.actionChannelInfo.loading=!1,a.toast("服务器错误，请联系管理员1","error")})},getEditChannelSelectListFun:function(e){var a=this,t={sessionid:this.userperadmin.sessionid};Object(r.G)(t).then(function(t){if(0===t.data.status){if(a.actionChannelInfo.selectListInfo.appList=t.data.appList,a.actionChannelInfo.selectListInfo.attributeList=t.data.channelAttribute,a.actionChannelInfo.selectListInfo.typeList=t.data.channelType,a.actionChannelInfo.selectListInfo.divisionList=t.data.channelSubdivision,t.data.adminIdList&&0!==t.data.adminIdList.length){var n=a;n.actionChannelInfo.selectListInfo.adminList=[],t.data.adminIdList.forEach(function(e,a){var t=e.split(","),i={id:t[0],name:t[1],index:t[2]};n.actionChannelInfo.selectListInfo.adminList.push(i)})}c=t.data.rewardTypeList,a.actionChannelInfo.selectListInfo.fcTypeList=t.data.rewardTypeList,a.actionChannelInfo.selectListInfo.cycleList=t.data.settlementCycleList,a.actionChannelInfo.selectListInfo.costList=t.data.costingList,e&&e(!0)}else 1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.toast("服务器错误，请联系管理员2","error")})},channelStatusFormatter:function(e,a,t){return 1===t?"启用":"禁用"},rewardTypeIdFormatter:function(e,a,t){return 26===t?"CPA单价":27===t?"CPS单价":28===t?"CPS比例":t},rewardPriceFormatter:function(e,a){if(e){var t=e.split(","),n=[],i=[];if(t.length<=1)if(1===a){var o=e.split("/");n.push(o[1])}else n.push(t[0]);else this.actionChannelInfo.rewardInfo.temp=t,t.forEach(function(e,a){var t=e.split("/");i.push({max:t[0],price:t[1]}),n[a]=0===a?"0 - "+t[0]+" : "+t[1]:parseInt(i[a-1].max)+1+" - "+t[0]+" : "+t[1]});return n}},selectedFormatter:function(e){1===e?this.searchChannelParams.parameter.channelName=this.searchChannelParams.parameter.channelName.replace(/[-]/g,""):this.searchChannelParams.parameter.channel=this.searchChannelParams.parameter.channel.replace(/[-]/g,"")},getChannelParamsFun:function(){var e=this,a={sessionid:this.userperadmin.sessionid,proxyId:this.searchChannelParams.parameter.proxyId};this.searchChannelParams.loading=!0,Object(r.D)(a).then(function(a){if(e.searchChannelParams.loading=!1,0===a.data.status){if(e.searchChannelParams.channelNameList=a.data.channelNameList,e.searchChannelParams.channelList=a.data.channelNoList,a.data.adminIdList&&0!==a.data.adminIdList.length){var t=e;t.searchChannelParams.adminList=[];try{a.data.adminIdList.forEach(function(e,a){var n=e.split(","),i={id:n[0],name:n[1]};t.searchChannelParams.adminList.push(i)})}catch(e){}}}else 1===a.data.status?e.$router.replace("/login"):e.toast(a.data.statusMsg,"error")}).catch(function(a){e.searchChannelParams.loading=!1,e.toast("服务器错误，请联系管理员","error")})},searchChannelListFun:function(){this.channelInfo.first=0,this.getChannelListFun()},getChannelListFun:function(e){var a=this,t={sessionid:this.userperadmin.sessionid,proxyId:this.searchChannelParams.parameter.proxyId,first:this.channelInfo.first,pageId:this.channelInfo.pagination.currentPage-1,pageSize:this.channelInfo.pagination.pageSize};void 0!==this.searchChannelParams.parameter.channelName&&""!==this.searchChannelParams.parameter.channelName&&(t.channelName=this.searchChannelParams.parameter.channelName.replace(/[-]/g,"")),void 0!==this.searchChannelParams.parameter.channel&&""!==this.searchChannelParams.parameter.channel&&(t.channel=this.searchChannelParams.parameter.channel.replace(/[-]/g,"")),void 0!==this.searchChannelParams.parameter.level&&""!==this.searchChannelParams.parameter.level&&(t.level=this.searchChannelParams.parameter.level),void 0!==this.searchChannelParams.parameter.admin&&""!==this.searchChannelParams.parameter.admin&&(t.adminId=this.searchChannelParams.parameter.admin),void 0!==this.searchChannelParams.parameter.status&&""!==this.searchChannelParams.parameter.status&&(t.status=this.searchChannelParams.parameter.status),void 0!==this.searchChannelParams.parameter.appSelected&&""!==this.searchChannelParams.parameter.appSelected&&(t.appid=this.searchChannelParams.parameter.appSelected),this.channelInfo.loading=!0,Object(r.B)(t).then(function(t){if(a.channelInfo.loading=!1,0===t.data.status){if(t.data.channelList){var n=a;a.channelInfo.tableData=t.data.channelList,a.channelInfo.tableData.forEach(function(e,a,t){t[a].rewardPrice=n.rewardPriceFormatter(e.rewardPrice)}),1===e&&(a.channelInfo.pagination.dataSize=parseInt(t.data.listSize))}t.data.listSize&&1!==a.channelInfo.first&&(a.channelInfo.pagination.dataSize=parseInt(t.data.listSize))}else 1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.channelInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})},channelTablePageSizeChange:function(e){this.channelInfo.first=1,this.channelInfo.pagination.pageSize=e,this.channelInfo.pagination.currentPage=1,this.getChannelListFun()},channelTableCurrentPageChange:function(e){this.channelInfo.first=1,this.channelInfo.pagination.currentPage=e,this.getChannelListFun()},toggleBreadNav:function(e,a){this.breadNavInfo[e]=a,"current1"===e&&(this.breadNavInfo.current2="",""===a&&(this.searchChannelParams.parameter.channelName="",this.searchChannelParams.parameter.channel="",this.searchChannelParams.parameter.level="",this.searchChannelParams.parameter.admin="",this.searchChannelParams.parameter.status="")),this.resetChannelInfoFun()},backToProxyListFun:function(){this.toggleBreadNav("current1",""),this.resetProxyInfoFun()},proxyPageSizeChange:function(e){this.proxyInfo.first=1,this.proxyInfo.pagination.currentPage=1,this.proxyInfo.pagination.pageSize=e,this.getProxyInfoListFun()},proxyCurrentPageChange:function(e){this.proxyInfo.first=1,this.proxyInfo.pagination.currentPage=e,this.getProxyInfoListFun()},getProxyNameListFun:function(){var e=this,a={sessionid:this.userperadmin.sessionid};this.searchProxyParams.loading=!0,Object(r.R)(a).then(function(a){e.searchProxyParams.loading=!1,0===a.data.status?e.searchProxyParams.list=a.data.proxyList:1===a.data.status?e.$router.replace("/login"):e.toast(a.data.statusMsg,"error")}).catch(function(a){e.searchProxyParams.loading=!1,e.toast("服务器错误，请联系管理员","error")})},getProxyInfoListFun:function(e){var a=this;if(!this.proxyInfo.loading){if(e)e.pageId=this.proxyInfo.pagination.currentPage-1,e.pageSize=this.proxyInfo.pagination.pageSize;else if(e={sessionid:this.userperadmin.sessionid,first:this.proxyInfo.first,pageId:this.proxyInfo.pagination.currentPage-1,pageSize:this.proxyInfo.pagination.pageSize},""!==this.searchProxyParams.selected){var t=parseInt(this.searchProxyParams.selected);isNaN(t)?e.company=this.searchProxyParams.selected:e.id=this.searchProxyParams.selected}this.proxyInfo.loading=!0,Object(r.Q)(e).then(function(e){a.proxyInfo.loading=!1,0===e.data.status?(a.proxyInfo.tableData=e.data.proxyList,e.data.listSize&&(a.proxyInfo.pagination.dataSize=parseInt(e.data.listSize))):1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.proxyInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})}},searchProxyInfoListFun:function(){var e,a=parseInt(this.searchProxyParams.selected);""===this.searchProxyParams.selected?(this.proxyInfo.first=0,this.getProxyInfoListFun()):isNaN(a)?(e={sessionid:this.userperadmin.sessionid,company:this.searchProxyParams.selected,first:0},this.getProxyInfoListFun(e)):(e={sessionid:this.userperadmin.sessionid,id:this.searchProxyParams.selected,first:0},this.getProxyInfoListFun(e))},viewChannelListFun:function(e,a){this.toggleBreadNav("current1",1),this.searchChannelParams.parameter.proxyId=e.id,this.searchChannelParams.parameter.proxyName=e.company,this.getChannelParamsFun(),this.getChannelListFun(),this.getEditChannelSelectListFun()},resetProxyInfoFun:function(){this.proxyInfo.actionInfo.proxyName="",this.proxyInfo.actionInfo.bankAccount="",this.proxyInfo.actionInfo.bank="",this.proxyInfo.actionInfo.dutyParagraph="",this.proxyInfo.actionInfo.phone="",this.proxyInfo.actionInfo.address="",this.proxyInfo.actionInfo.contacts="",this.proxyInfo.actionInfo.mobileno="",this.proxyInfo.actionInfo.email="",this.proxyInfo.chartPermissionInfo={registerChartPermission:!1,loginChartPermission:!1,applyChartPermission:!1,loanAcctChartPermission:!1,cashNumCharPermission:!1,firstCashAmtChartPermission:!1,totalCashAmtChartPermission:!1}},viewProxyInfoFun:function(e,a){this.toggleBreadNav("current1",0),this.proxyInfo.actionInfo.proxyName=e.company,this.proxyInfo.actionInfo.bankAccount=e.bankAccount,this.proxyInfo.actionInfo.bank=e.bank,this.proxyInfo.actionInfo.dutyParagraph=e.dutyParagraph,this.proxyInfo.actionInfo.phone=e.phone,this.proxyInfo.actionInfo.address=e.address,this.proxyInfo.actionInfo.contacts=e.contacts,this.proxyInfo.actionInfo.mobileno=e.mobileno,this.proxyInfo.actionInfo.email=e.email},permissionFormatter:function(e,a){var t=s()(e),n=i()(e);if(1===a)n.forEach(function(a,n){"id"!==t[n]&&(e[t[n]]=1===a)});else if(2===a)n.forEach(function(a,n){"id"!==t[n]&&(e[t[n]]=!0===a?1:0)});else{if(3===a)return n.includes(!0);var o=this;n.forEach(function(e,a){"id"!==t[a]?o.chartPermissionInfo[t[a]]=!1:o.chartPermissionInfo[t[a]]=""})}return e},toast:function(e,a){this.$message({type:a,message:e})}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page proxy-page"},[t("div",{staticClass:"bread-nav"},[e._v("\n\t\t\t当前位置：\n\t\t\t"),t("span",{class:{link:""!==e.breadNavInfo.current1},on:{click:function(a){e.toggleBreadNav("current1","")}}},[e._v("渠道商管理")]),e._v(" "),""!==e.breadNavInfo.current1?t("span",{staticClass:"item",class:{link:""!==e.breadNavInfo.current2},on:{click:function(a){e.toggleBreadNav("current1",1)}}},[e._v(e._s(e.breadNavInfo.level1Items[e.breadNavInfo.current1]))]):e._e(),e._v(" "),""!==e.breadNavInfo.current2?t("span",{staticClass:"item"},[e._v(e._s(e.breadNavInfo.level2Items[e.breadNavInfo.current2]))]):e._e()]),e._v(" "),t("section",{directives:[{name:"show",rawName:"v-show",value:""===e.breadNavInfo.current1,expression:"breadNavInfo.current1 === ''"}],staticClass:"action-container"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.searchProxyParams.loading,expression:"searchProxyParams.loading"}],staticClass:"flex-item search-form",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道商"},model:{value:e.searchProxyParams.selected,callback:function(a){e.$set(e.searchProxyParams,"selected",a)},expression:"searchProxyParams.selected"}},e._l(e.searchProxyParams.list,function(e){return t("el-option",{key:e.id,attrs:{label:e.company,value:e.id}})})),e._v(" "),t("button",{on:{click:e.searchProxyInfoListFun}},[t("i",{staticClass:"fa fa-search"}),e._v("搜索")])],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.proxyInfo.loading,expression:"proxyInfo.loading"}],staticClass:"table-container",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.proxyInfo.tableData,border:"",size:"small"}},[t("el-table-column",{attrs:{type:"index",label:"序号",index:e.indexFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"company",label:"公司名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"contacts",label:"联系人"}}),e._v(" "),t("el-table-column",{attrs:{prop:"email",label:"email"}}),e._v(" "),t("el-table-column",{attrs:{prop:"mobileno",label:"手机号码"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoList,expression:"qudaoList"}],attrs:{type:"text",size:"small"},on:{click:function(t){e.viewChannelListFun(a.row,a.$index)}}},[t("i",{staticClass:"fa fa-table",attrs:{"aria-hidden":"true"}}),e._v("渠道列表")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.details,expression:"details"}],attrs:{type:"text",size:"small"},on:{click:function(t){e.viewProxyInfoFun(a.row,a.$index)}}},[t("i",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),e._v("详情")])]}}])})],1),e._v(" "),t("el-pagination",{staticClass:"paginationWrapper",attrs:{background:"","current-page":e.proxyInfo.pagination.currentPage,"page-sizes":e.proxyInfo.pagination.pageSizes,"page-size":e.proxyInfo.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.proxyInfo.pagination.dataSize},on:{"size-change":e.proxyPageSizeChange,"current-change":e.proxyCurrentPageChange}})],1)]),e._v(" "),0===e.breadNavInfo.current1?t("section",{directives:[{name:"loading",rawName:"v-loading",value:e.proxyInfo.actionInfo.loading,expression:"proxyInfo.actionInfo.loading"}],staticClass:"action-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("h4",{staticClass:"action-title"},[e._v("渠道商账户信息")]),e._v(" "),t("el-row",{staticClass:"form-wrapper"},[t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"proxyName"}},[e._v("公司名称")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.proxyName,expression:"proxyInfo.actionInfo.proxyName"}],attrs:{type:"text",id:"proxyName",readonly:"true"},domProps:{value:e.proxyInfo.actionInfo.proxyName},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"proxyName",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"bankAccount"}},[e._v("银行账户")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.bankAccount,expression:"proxyInfo.actionInfo.bankAccount"}],attrs:{type:"text",id:"bankAccount",readonly:"true",maxLength:"19"},domProps:{value:e.proxyInfo.actionInfo.bankAccount},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"bankAccount",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"bank"}},[e._v("开户行")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.bank,expression:"proxyInfo.actionInfo.bank"}],attrs:{type:"text",id:"bank",readonly:"true"},domProps:{value:e.proxyInfo.actionInfo.bank},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"bank",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"dutyParagraph"}},[e._v("税号")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.dutyParagraph,expression:"proxyInfo.actionInfo.dutyParagraph"}],attrs:{type:"text",id:"dutyParagraph",readonly:"true",maxLength:"18"},domProps:{value:e.proxyInfo.actionInfo.dutyParagraph},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"dutyParagraph",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"phone"}},[e._v("公司电话")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.phone,expression:"proxyInfo.actionInfo.phone"}],attrs:{type:"text",id:"phone",readonly:"true",maxLength:"11"},domProps:{value:e.proxyInfo.actionInfo.phone},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"phone",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"address"}},[e._v("公司地址")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.address,expression:"proxyInfo.actionInfo.address"}],attrs:{type:"text",id:"address",readonly:"true"},domProps:{value:e.proxyInfo.actionInfo.address},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"address",a.target.value)}}})])]),e._v(" "),t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"contacts"}},[e._v("联系人")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.contacts,expression:"proxyInfo.actionInfo.contacts"}],attrs:{type:"text",id:"contacts",readonly:"true"},domProps:{value:e.proxyInfo.actionInfo.contacts},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"contacts",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"mobileno"}},[e._v("联系人电话")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.mobileno,expression:"proxyInfo.actionInfo.mobileno"}],attrs:{type:"text",id:"mobileno",readonly:"true",maxLength:"11"},domProps:{value:e.proxyInfo.actionInfo.mobileno},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"mobileno",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{attrs:{for:"email"}},[e._v("联系人邮箱")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.proxyInfo.actionInfo.email,expression:"proxyInfo.actionInfo.email"}],attrs:{type:"text",id:"email",readonly:"true"},domProps:{value:e.proxyInfo.actionInfo.email},on:{input:function(a){a.target.composing||e.$set(e.proxyInfo.actionInfo,"email",a.target.value)}}})])])],1),e._v(" "),t("h4",{directives:[{name:"show",rawName:"v-show",value:0!==e.PermissionInfo.list.length,expression:"PermissionInfo.list.length !== 0"}]},[e._v("账户权限")]),e._v(" "),0!==e.PermissionInfo.list.length?t("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.PermissionInfo.loading,expression:"PermissionInfo.loading"}],staticClass:"form-wrapper permission-wrapper"},[t("div",{staticClass:"form-wrapper form-wrapper-inner"},e._l(e.permissionInfo.list,function(a,n){return t("div",{key:n,staticClass:"input-group required"},[t("label",{staticClass:"qx"},[e._v("请选择您所需要的报表内容（"),t("span",[e._v(e._s(e.permissionInfo.app[a.appid].name))]),e._v("）")]),e._v(" "),t("div",[t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.registerChartPermission,callback:function(t){e.$set(a,"registerChartPermission",t)},expression:"app.registerChartPermission"}},[e._v("注册数")]),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.loginChartPermission,callback:function(t){e.$set(a,"loginChartPermission",t)},expression:"app.loginChartPermission"}},[e._v("登录数")]),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.applyChartPermission,callback:function(t){e.$set(a,"applyChartPermission",t)},expression:"app.applyChartPermission"}},[e._v("申请人数")]),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.loanAcctChartPermission,callback:function(t){e.$set(a,"loanAcctChartPermission",t)},expression:"app.loanAcctChartPermission"}},[e._v("授信人数")]),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.cashNumCharPermission,callback:function(t){e.$set(a,"cashNumCharPermission",t)},expression:"app.cashNumCharPermission"}},[e._v("首提人数")]),e._v(" "),t("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:a.firstCashAmtChartPermission,callback:function(t){e.$set(a,"firstCashAmtChartPermission",t)},expression:"app.firstCashAmtChartPermission"}},[e._v("首次提现总金额(元)")])],1)])}))]):e._e(),e._v(" "),t("div",{staticClass:"btns"},[t("button",{staticClass:"btn cancel",on:{click:e.backToProxyListFun}},[e._v("返回")])])],1):e._e(),e._v(" "),t("section",{directives:[{name:"show",rawName:"v-show",value:1===e.breadNavInfo.current1&&""===e.breadNavInfo.current2,expression:"breadNavInfo.current1 === 1 && breadNavInfo.current2 === ''"}],staticClass:"sub-table-wrapper"},[t("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.searchChannelParams.loading,expression:"searchChannelParams.loading"}],staticClass:"actions",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("el-col",{attrs:{xs:24}},[t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道名称"},model:{value:e.searchChannelParams.parameter.channelName,callback:function(a){e.$set(e.searchChannelParams.parameter,"channelName",a)},expression:"searchChannelParams.parameter.channelName"}},e._l(e.searchChannelParams.channelNameList,function(e,a){return t("el-option",{key:a,attrs:{label:e,value:e}})})),e._v(" "),t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道号"},model:{value:e.searchChannelParams.parameter.channel,callback:function(a){e.$set(e.searchChannelParams.parameter,"channel",a)},expression:"searchChannelParams.parameter.channel"}},e._l(e.searchChannelParams.channelList,function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道级别"},model:{value:e.searchChannelParams.parameter.level,callback:function(a){e.$set(e.searchChannelParams.parameter,"level",a)},expression:"searchChannelParams.parameter.level"}},e._l(e.searchChannelParams.levelList,function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),e._v(" "),t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.searchChannelParams.parameter.admin,callback:function(a){e.$set(e.searchChannelParams.parameter,"admin",a)},expression:"searchChannelParams.parameter.admin"}},e._l(e.searchChannelParams.adminList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道状态"},model:{value:e.searchChannelParams.parameter.status,callback:function(a){e.$set(e.searchChannelParams.parameter,"status",a)},expression:"searchChannelParams.parameter.status"}},e._l(e.searchChannelParams.stateList,function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),e._v(" "),t("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择产品"},model:{value:e.searchChannelParams.parameter.appSelected,callback:function(a){e.$set(e.searchChannelParams.parameter,"appSelected",a)},expression:"searchChannelParams.parameter.appSelected"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),t("button",{staticClass:"btn blue",on:{click:e.searchChannelListFun}},[t("i",{staticClass:"fa fa-search"}),e._v("搜索")])],1)],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.channelInfo.loading,expression:"channelInfo.loading"}],staticClass:"table-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("p",{staticClass:"table-title"},[e._v("当前渠道商："),t("span",[e._v(e._s(e.searchChannelParams.parameter.proxyName))])]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelInfo.tableData,border:"",size:"small"}},[t("el-table-column",{attrs:{type:"index",index:e.indexFormatter1,label:"序号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"channel",label:"渠道号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"adminName",label:"负责人",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"level",label:"渠道级别",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"appId",label:"产品",width:"100",formatter:e.appFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"rewardTypeId",label:"分成方式"},scopedSlots:e._u([{key:"default",fn:function(a){return[1===a.row.level?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.getPayCompanyFun(a.row.proxyId,"fromChannel",a.row)}}},[t("i",{staticClass:"fa fa-window-restore",attrs:{"aria-hidden":"true"}}),e._v("详情")]):e._e(),e._v(" "),1!==a.row.level?t("p",[e._v(e._s(e._f("rewardTypeIdFilter")(a.row.rewardTypeId)))]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.rewardPrice,function(n){return 1!==a.row.level?t("p",{attrs:{"close-transition":""},on:{click:function(t){e.editOptiInfoFun(a.row,a.$index)}}},[e._v(e._s(n))]):e._e()})}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"optimization",label:"优化比例(%)",width:"90"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{on:{click:function(t){e.editOptiInfoFun(a.row,a.$index)}}},[e._v(e._s(a.row.optimization))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"startDate",label:"优化起始时间"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{on:{click:function(t){e.editOptiInfoFun(a.row,a.$index)}}},[e._v(e._s(e._f("optiTimeFormmater")(a.row.startDate)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"渠道状态",width:"80",formatter:e.channelStatusFormatter},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoListStart,expression:"qudaoListStart"}],class:{status:a.row.status,status1:!a.row.status},attrs:{type:"text",size:"small"},on:{click:function(t){e.toggleStatusFun(a.row,a.$index)}}},[t("i",{staticClass:"fa fa-cogs",attrs:{"aria-hidden":"true"}}),e._v(e._s(e._f("channelStatusFormatterSet")(a.row.status)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoListEdit,expression:"qudaoListEdit"}],attrs:{type:"text",size:"small"},on:{click:function(t){e.editChannelFun(a.row,a.$index)}}},[t("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),e._v("编辑")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoListHistory,expression:"qudaoListHistory"}],attrs:{type:"text",size:"small"},on:{click:function(t){e.getChannelHistoryFun(a.row,a.$index)}}},[t("i",{staticClass:"fa fa-list-alt",attrs:{"aria-hidden":"true"}}),e._v("历史")])]}}])})],1),e._v(" "),t("el-pagination",{staticClass:"paginationWrapper",attrs:{background:"","current-page":e.channelInfo.pagination.currentPage,"page-sizes":e.channelInfo.pagination.pageSizes,"page-size":e.channelInfo.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.channelInfo.pagination.dataSize},on:{"size-change":e.channelTablePageSizeChange,"current-change":e.channelTableCurrentPageChange}})],1)],1),e._v(" "),1===e.breadNavInfo.current1&&0===e.breadNavInfo.current2?t("section",{directives:[{name:"loading",rawName:"v-loading",value:e.actionChannelInfo.loading,expression:"actionChannelInfo.loading"}],staticClass:"action-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("h4",{staticClass:"action-title"},[e._v("渠道基础信息")]),e._v(" "),t("el-row",{staticClass:"form-wrapper"},[t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"companyName"}},[e._v("归属渠道商")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.proxyName,expression:"actionChannelInfo.info.proxyName"}],attrs:{type:"text",readonly:"true",id:"proxyName"},domProps:{value:e.actionChannelInfo.info.proxyName},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"proxyName",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channelLevel"}},[e._v("渠道级别")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.level,expression:"actionChannelInfo.info.level"}],attrs:{type:"text",readonly:"true",id:"level"},domProps:{value:e.actionChannelInfo.info.level},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"level",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channelName"}},[e._v("渠道名称")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channelName,expression:"actionChannelInfo.info.channelName"}],attrs:{type:"text",id:"channelName",readonly:"true"},domProps:{value:e.actionChannelInfo.info.channelName},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"channelName",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channelNo"}},[e._v("渠道编码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channelNo,expression:"actionChannelInfo.info.channelNo"}],attrs:{type:"text",id:"channelNo",readonly:"true",oninput:"value=value.replace(/[^0-9a-zA-Z]/g,'')",placeholder:"由字母和数字组合的5-15位编码"},domProps:{value:e.actionChannelInfo.info.channelNo},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"channelNo",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channel"}},[e._v("渠道号")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channel,expression:"actionChannelInfo.info.channel"}],attrs:{type:"text",id:"channel",readonly:"true"},domProps:{value:e.actionChannelInfo.info.channel},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"channel",a.target.value)}}})]),e._v(" "),"一级渠道"===e.actionChannelInfo.info.level?t("div",{staticClass:"input-group required"},[t("label",[e._v("是否可创建子渠道")]),e._v(" "),t("el-radio-group",{attrs:{disabled:""},model:{value:e.actionChannelInfo.info.isCreate,callback:function(a){e.$set(e.actionChannelInfo.info,"isCreate",a)},expression:"actionChannelInfo.info.isCreate"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e(),e._v(" "),"一级渠道"!==e.actionChannelInfo.info.level?t("div",{staticClass:"input-group required"},[t("label",[e._v("所属APP")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择APP"},model:{value:e.actionChannelInfo.info.appSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"appSelected",a)},expression:"actionChannelInfo.info.appSelected"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e,a){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("是否实时同步")]),e._v(" "),t("el-radio-group",{model:{value:e.actionChannelInfo.info.synchronous,callback:function(a){e.$set(e.actionChannelInfo.info,"synchronous",a)},expression:"actionChannelInfo.info.synchronous"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否（默认每日11点发布）")])],1)],1)]),e._v(" "),t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",[e._v("渠道属性")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道属性"},model:{value:e.actionChannelInfo.info.attributeSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"attributeSelected",a)},expression:"actionChannelInfo.info.attributeSelected"}},e._l(e.actionChannelInfo.selectListInfo.attributeList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("渠道类型")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道类型"},model:{value:e.actionChannelInfo.info.typeSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"typeSelected",a)},expression:"actionChannelInfo.info.typeSelected"}},e._l(e.actionChannelInfo.selectListInfo.typeList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("渠道细分")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道细分"},model:{value:e.actionChannelInfo.info.divisionSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"divisionSelected",a)},expression:"actionChannelInfo.info.divisionSelected"}},e._l(e.actionChannelInfo.selectListInfo.divisionList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{staticClass:"input-group textAreaInput required"},[t("label",{attrs:{for:"url"}},[e._v("注册链接")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.url,expression:"actionChannelInfo.info.url"}],attrs:{id:"url",readonly:"true"},domProps:{value:e.actionChannelInfo.info.url},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"url",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("负责人")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.actionChannelInfo.info.adminSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"adminSelected",a)},expression:"actionChannelInfo.info.adminSelected"}},e._l(e.actionChannelInfo.selectListInfo.adminList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1),e._v(" "),t("h4",{staticClass:"action-title"},[e._v("分成信息")]),e._v(" "),e._l(e.firstLevelFcDataList,function(a,n){return"一级渠道"===e.actionChannelInfo.info.level&&0!==a.length?t("el-row",{key:n,staticClass:"form-wrapper"},[t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",[e._v("所属APP")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择APP"},model:{value:a.appid,callback:function(t){e.$set(a,"appid",t)},expression:"fcItem.appid"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e,a){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",[e._v("分成方式")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分成方式"},model:{value:a.fcType,callback:function(t){e.$set(a,"fcType",t)},expression:"fcItem.fcType"}},e._l(e.actionChannelInfo.selectListInfo.fcTypeList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),t("el-radio-group",{attrs:{disabled:""},model:{value:a.isStep,callback:function(t){e.$set(a,"isStep",t)},expression:"fcItem.isStep"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[t("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(a.fcType)))]),e._v(" "),0===a.isStep?t("input",{directives:[{name:"model",rawName:"v-model",value:a.stepData,expression:"fcItem.stepData"}],attrs:{type:"text",readonly:"true",maxLength:"3"},domProps:{value:a.stepData},on:{input:function(t){t.target.composing||e.$set(a,"stepData",t.target.value)}}}):e._e(),e._v(" "),t("span",[e._v(e._s(e._f("fcNumberFilter")(a.fcType)))]),e._v(" "),1===a.isStep?t("div",{staticClass:"inner-input-group clearfix"},[t("ul",e._l(a.fcTypeData.rewards,function(n,i){return t("li",{staticClass:"clearfix"},[t("div",[t("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(a.fcType))+"：")]),e._v(" "),t("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("fcFormatter")(a.fcTypeData.rewards[i-1])}}),e._v(" "),t("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.fcTypeData.rewards[i].max,expression:"fcItem.fcTypeData.rewards[index].max"}],attrs:{type:"text",readonly:"true"},domProps:{value:a.fcTypeData.rewards[i].max},on:{input:function(t){t.target.composing||e.$set(a.fcTypeData.rewards[i],"max",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v(e._s(e._f("fcNumberFilter")(a.fcType))+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:n.price,expression:"item.price"}],attrs:{type:"text",readonly:"true"},domProps:{value:n.price},on:{input:function(a){a.target.composing||e.$set(n,"price",a.target.value)}}}),e._v(" "),t("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(a.fcType)))])])])}))]):e._e()])]),e._v(" "),t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择结算周期"},model:{value:a.settlementCycle,callback:function(t){e.$set(a,"settlementCycle",t)},expression:"fcItem.settlementCycle"}},e._l(e.actionChannelInfo.selectListInfo.cycleList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",[e._v("成本计算方式")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择计算方式"},model:{value:a.cacCostType,callback:function(t){e.$set(a,"cacCostType",t)},expression:"fcItem.cacCostType"}},e._l(e.actionChannelInfo.selectListInfo.costList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1):e._e()}),e._v(" "),"一级渠道"!==e.actionChannelInfo.info.level?t("el-row",{staticClass:"form-wrapper"},[t("el-col",{attrs:{xs:24,sm:12}},[t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",[e._v("分成方式")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分成方式"},model:{value:e.actionChannelInfo.info.fcTypeSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"fcTypeSelected",a)},expression:"actionChannelInfo.info.fcTypeSelected"}},e._l(e.actionChannelInfo.selectListInfo.fcTypeList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),t("el-radio-group",{attrs:{disabled:""},model:{value:e.actionChannelInfo.info.isStep,callback:function(a){e.$set(e.actionChannelInfo.info,"isStep",a)},expression:"actionChannelInfo.info.isStep"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[t("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected)))]),e._v(" "),0===e.actionChannelInfo.info.isStep?t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.stepData,expression:"actionChannelInfo.info.stepData"}],attrs:{type:"text",readonly:"true",maxLength:"3"},domProps:{value:e.actionChannelInfo.info.stepData},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"stepData",a.target.value)}}}):e._e(),e._v(" "),t("span",[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected)))]),e._v(" "),1===e.actionChannelInfo.info.isStep?t("div",{staticClass:"inner-input-group clearfix"},[t("ul",e._l(e.actionChannelInfo.rewardInfo.list,function(a,n){return t("li",{key:n,staticClass:"clearfix"},[t("div",[t("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(e.actionChannelInfo.info.fcTypeSelected))+"：")]),e._v(" "),t("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("fcFormatter")(e.actionChannelInfo.rewardInfo.list[n-1])}}),e._v(" "),t("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.max,expression:"item.max"}],attrs:{type:"text",readonly:"true"},domProps:{value:a.max},on:{input:function(t){t.target.composing||e.$set(a,"max",t.target.value)}}})]),e._v(" "),t("div",[t("span",[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected))+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.price,expression:"item.price"}],attrs:{type:"text",readonly:"true"},domProps:{value:a.price},on:{input:function(t){t.target.composing||e.$set(a,"price",t.target.value)}}}),e._v(" "),t("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(e.actionChannelInfo.info.fcTypeSelected)))])])])}))]):e._e()])]),e._v(" "),t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择结算周期"},model:{value:e.actionChannelInfo.info.cycleSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"cycleSelected",a)},expression:"actionChannelInfo.info.cycleSelected"}},e._l(e.actionChannelInfo.selectListInfo.cycleList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[t("label",[e._v("成本计算方式")]),e._v(" "),t("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择计算方式"},model:{value:e.actionChannelInfo.info.costSelected,callback:function(a){e.$set(e.actionChannelInfo.info,"costSelected",a)},expression:"actionChannelInfo.info.costSelected"}},e._l(e.actionChannelInfo.selectListInfo.costList,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1):e._e(),e._v(" "),t("h4",{staticClass:"action-title"},[e._v("优化信息")]),e._v(" "),t("el-row",{staticClass:"form-wrapper"},[t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",[e._v("是否联动")]),e._v(" "),t("el-radio-group",{model:{value:e.actionChannelInfo.info.linkage,callback:function(a){e.$set(e.actionChannelInfo.info,"linkage",a)},expression:"actionChannelInfo.info.linkage"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("优化内容")]),e._v(" "),t("el-checkbox-group",{model:{value:e.actionChannelInfo.info.optiContent,callback:function(a){e.$set(e.actionChannelInfo.info,"optiContent",a)},expression:"actionChannelInfo.info.optiContent"}},[t("el-checkbox",{attrs:{label:"优化比例"}}),e._v(" "),t("el-checkbox",{attrs:{label:"优化起始时间"}})],1)],1)]),e._v(" "),t("el-col",{attrs:{xs:24,sm:12}},[t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channel"}},[e._v("优化比例(%)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.optiRate,expression:"actionChannelInfo.info.optiRate"}],attrs:{type:"text",id:"channel",maxLength:"5",oninput:"value=value.replace(/^[^0-9][^0-9\\.]{0,}/g,'')"},domProps:{value:e.actionChannelInfo.info.optiRate},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"optiRate",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channel"}},[e._v("优化起始时间")]),e._v(" "),t("el-date-picker",{attrs:{type:"date",placeholder:"选择优化起始时间"},model:{value:e.actionChannelInfo.info.optiTime,callback:function(a){e.$set(e.actionChannelInfo.info,"optiTime",a)},expression:"actionChannelInfo.info.optiTime"}})],1)])],1),e._v(" "),t("div",{staticClass:"btns"},[t("button",{staticClass:"btn submit",on:{click:e.saveChannelInfoFun}},[e._v("提交")]),e._v(" "),t("button",{staticClass:"btn cancel",on:{click:e.cancelSaveChannelFun}},[e._v("取消")])])],2):e._e(),e._v(" "),t("section",{directives:[{name:"show",rawName:"v-show",value:1===e.breadNavInfo.current1&&1===e.breadNavInfo.current2,expression:"breadNavInfo.current1 === 1 && breadNavInfo.current2 === 1"},{name:"loading",rawName:"v-loading",value:e.proxyInfo.loading,expression:"proxyInfo.loading"}],staticClass:"table-container",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("p",{staticClass:"table-title noBg"},[e._v("当前渠道："),t("span",[e._v(e._s(e.channelHistoryInfo.channelName))])]),e._v(" "),t("p",{staticClass:"table-title mrgt"},[e._v("分成历史记录")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelHistoryInfo.fcInfo.tableData,height:"300",border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),t("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.rewardPrice,function(a){return t("p",{attrs:{"close-transition":""}},[e._v(e._s(a))])})}}])}),e._v(" "),t("el-table-column",{attrs:{property:"date",label:"分成起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),t("el-table-column",{attrs:{property:"adminName",label:"负责人"}}),e._v(" "),t("el-table-column",{attrs:{property:"date",label:"任期起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),t("el-table-column",{attrs:{property:"updateAdminName",label:"操作人"}})],1),e._v(" "),t("p",{staticClass:"table-title mrgt"},[e._v("优化历史记录")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelHistoryInfo.optiInfo.tableData,height:"300",border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{property:"optimization",label:"优化比例",formatter:e.rewardTypeIdFormatter}}),e._v(" "),t("el-table-column",{attrs:{property:"startDate",label:"优化起始时间",sortable:"",formatter:e.timeStempFormatter1}}),e._v(" "),t("el-table-column",{attrs:{property:"updateDate",label:"操作时间",sortable:"",formatter:e.timeStempFormatter2}}),e._v(" "),t("el-table-column",{attrs:{property:"adminName",label:"操作人"}})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"切换渠道状态",visible:e.channelStatusInfo.visible,width:"370px",center:""},on:{"update:visible":function(a){e.$set(e.channelStatusInfo,"visible",a)}}},[t("span",[e._v("是否调整 "),t("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.searchChannelParams.parameter.proxyName)+"（公司名称），"+e._s(e.channelStatusInfo.channelName)+"（渠道名称），"+e._s(e.channelStatusInfo.channel)+"（渠道号）")]),e._v("状态为"),t("span",{staticStyle:{color:"red"}},[e._v(e._s(e.channelStatusInfo.statusText))]),e._v("？点击确定"),t("span",{staticStyle:{color:"red"}},[e._v("“"+e._s(e.channelStatusInfo.statusText)+"”")]),e._v("该渠道，点击取消返回渠道列表”")]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveChannelStatusFun}},[e._v("确 定")]),e._v(" "),t("el-button",{staticClass:"info",on:{click:e.toggleStatusDialogFun}},[e._v("取 消")])],1)]),e._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.optiInfo.loading,expression:"optiInfo.loading"}],attrs:{title:"切换渠道状态",visible:e.optiInfo.visible,width:"400px",center:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"},on:{"update:visible":function(a){e.$set(e.optiInfo,"visible",a)}}},[t("div",[t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channel"}},[e._v("优化比例(%)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.optiRate,expression:"actionChannelInfo.info.optiRate"}],attrs:{type:"text",id:"channel",maxLength:"5",oninput:"value=value.replace(/^[^0-9][^0-9\\.]{0,}/g,'')"},domProps:{value:e.actionChannelInfo.info.optiRate},on:{input:function(a){a.target.composing||e.$set(e.actionChannelInfo.info,"optiRate",a.target.value)}}})]),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",{attrs:{for:"channel"}},[e._v("优化起始时间")]),e._v(" "),t("el-date-picker",{attrs:{type:"date",placeholder:"选择优化起始时间"},model:{value:e.actionChannelInfo.info.optiTime,callback:function(a){e.$set(e.actionChannelInfo.info,"optiTime",a)},expression:"actionChannelInfo.info.optiTime"}})],1),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("是否联动")]),e._v(" "),t("el-radio-group",{model:{value:e.actionChannelInfo.info.linkage,callback:function(a){e.$set(e.actionChannelInfo.info,"linkage",a)},expression:"actionChannelInfo.info.linkage"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),t("div",{staticClass:"input-group required"},[t("label",[e._v("优化内容")]),e._v(" "),t("el-checkbox-group",{model:{value:e.actionChannelInfo.info.optiContent,callback:function(a){e.$set(e.actionChannelInfo.info,"optiContent",a)},expression:"actionChannelInfo.info.optiContent"}},[t("el-checkbox",{attrs:{label:"优化比例"}}),e._v(" "),t("el-checkbox",{attrs:{label:"优化起始时间"}})],1)],1)]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.saveChannelOptiFun}},[e._v("确 定")]),e._v(" "),t("el-button",{staticClass:"info",on:{click:e.toggleOptiDialogFun}},[e._v("取 消")])],1)]),e._v(" "),t("el-dialog",{attrs:{title:"分成详情",center:"",width:"400",visible:e.firstLevelChannelRewardInfo.visible},on:{"update:visible":function(a){e.$set(e.firstLevelChannelRewardInfo,"visible",a)}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.firstLevelChannelRewardInfo.loading,expression:"firstLevelChannelRewardInfo.loading"}],staticStyle:{width:"100%"},attrs:{data:e.firstLevelChannelRewardInfo.tableData,height:"300",border:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[t("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),t("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),t("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.rewardPrice,function(a,n){return t("p",{key:n,attrs:{"close-transition":""}},[e._v(e._s(a))])})}}])})],1)],1)],1)},staticRenderFns:[]},p=t("Z0/y")(f,d,!1,function(e){t("mVXv")},"data-v-60ff9fd0",null);a.default=p.exports},ZLEe:function(e,a,t){e.exports={default:t("vpO9"),__esModule:!0}},mVXv:function(e,a){},magR:function(e,a,t){var n=t("NYhm"),i=t("2+Um")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},sO8L:function(e,a,t){var n=t("TMqw"),i=t("z/GF");t("+GxS")("keys",function(){return function(e){return i(n(e))}})},vpO9:function(e,a,t){t("sO8L"),e.exports=t("TF39").Object.keys},yRvA:function(e,a,t){t("magR"),e.exports=t("TF39").Object.values}});
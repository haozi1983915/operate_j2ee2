webpackJsonp([4],{"26r+":function(t,e){},MFFE:function(t,e){},mlqX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("P9l9"),n=a("dia3"),i=["","","","","",""],r={props:["data","index"],data:function(){return{}},mounted:function(){try{var t=this.$echarts.init(document.getElementById(this.data.el));i[this.index]=t;var e=[];e.push({itemStyle:{color:"#BD2AFC"},label:{normal:{show:!0,position:"outside",color:"#000",fontSize:12,fontWeight:"bold",backgroundColor:"transparent"}},name:"注册",type:"line",data:this.data.data.outRegister}),e.push({itemStyle:{color:"#67C23A"},label:{normal:{show:!0,position:"outside",color:"#000",fontSize:12,fontWeight:"bold",backgroundColor:"transparent"}},name:"进件",type:"line",data:this.data.data.outUpload}),e.push({itemStyle:{color:"#FB0606"},label:{normal:{show:!0,position:"outside",color:"#000",fontSize:12,fontWeight:"bold",backgroundColor:"transparent"}},name:"开户",type:"line",data:this.data.data.outAccount}),e.push({itemStyle:{color:"#409EFF"},label:{normal:{show:!0,position:"bottom",color:"#409EFF",fontSize:12,fontWeight:"bold",backgroundColor:"transparent"}},name:"首提人数",type:"line",data:this.data.data.outFirstGetPer}),e.push({itemStyle:{color:"#FD9802"},label:{normal:{show:!0,position:"outside",color:"#000",fontSize:12,fontWeight:"bold",backgroundColor:"transparent"}},name:"首提总额(元)",type:"line",data:this.data.data.outFirstGetSum});var a={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["注册","进件","开户","首提人数","首提总额(元)"],selected:{"注册":!0,"进件":!0,"开户":!0,"首提人数":!0,"首提总额(元)":!1}},grid:{left:"3%",right:"6%",bottom:"3%",containLabel:!0},calculable:!0,xAxis:[{name:this.data.xName,type:"category",data:this.data.xLengend,boundaryGap:!1,axisLabel:{interval:0,rotate:30},offset:14}],yAxis:[{name:this.data.yName,type:"value"}],series:e};t.setOption(a,!0),t.on("legendselectchanged",function(e){["注册","进件","开户","首提人数"].includes(e.name)?(t.dispatchAction({type:"legendUnSelect",name:"首提总额(元)"}),a.yAxis[0].name="人数"):(t.dispatchAction({type:"legendUnSelect",batch:[{name:"注册"},{name:"进件"},{name:"开户"},{name:"首提人数"}]}),a.yAxis[0].name="金额（元）")})}catch(t){}window.addEventListener("resize",function(){i[0].resize()}),document.querySelector(".toggle-asider").onclick=function(){setTimeout(function(){i[0].resize()},300)}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"chart-inner",attrs:{id:this.data.el}})},staticRenderFns:[]},l={data:function(){return{userperadmin:"",showOrigin:!1,thead:["日期","注册","进件","开户","首提人数","首提总额(元)"],yestodayData:[],datas:[],toggle:!0,fastSelectedDate:"",rangeDate:"",loading:!1,clearLineChart:!1,lineChartData:[{el:"lineCharts",title:"最近7天激活数",xName:"日期",xLengend:[],yName:"",data:{outRegister:[],outUpload:[],outAccount:[],outFirstGetPer:[],outFirstGetSum:[]},legend:{data:["注册","进件","开户","首提人数","首提总额(元)"]}}],appInfo:{selected:"",list:[]}}},components:{LineChart:a("vSla")(r,o,!1,function(t){a("MFFE")},"data-v-50199d73",null).exports},mounted:function(){try{for(var t=JSON.parse(unescape(sessionStorage.getItem("userPermiss"))),e=0;e<t.data.length;e++)if("01"==t.data[e].meta)for(var a=0;a<t.data[e].children.length;a++)if("0102"==t.data[e].children[a].meta)for(var s=0;s<t.data[e].children[a].children.length;s++){var n=t.data[e].children[a].children[s];"010204"==n.meta&&1==n.show&&(this.showOrigin=!0)}}catch(t){}var i=JSON.parse(localStorage.getItem("userperadmin"));this.userperadmin=i,this.getAppArrayFun()},computed:{yestoday:function(){var t=new Date;return t.setTime(t.getTime()-864e5),Object(n.a)(t)},recentSevenDays:function(){var t=new Date;t.setTime(t.getTime()-6048e5);var e=Object(n.a)(t);return{maxDate:this.yestoday,minDate:e}},thisWeek:function(){var t=new Date,e=t.getDay(),a=this.yestoday;0===e&&(e=7),t.setTime(t.getTime()-24*(e-1)*60*60*1e3);var s=Object(n.a)(t);return 1===e&&(a=s),{maxDate:a,minDate:s}},lastWeek:function(){var t=new Date,e=t.getDay();t.setTime(t.getTime()-24*e*60*60*1e3);var a=Object(n.a)(t);return t.setTime(t.getTime()-5184e5),{maxDate:a,minDate:Object(n.a)(t)}},thisMonth:function(){var t=new Date,e=t.getDate(),a=this.yestoday;t.setTime(t.getTime()-24*(e-1)*60*60*1e3);var s=Object(n.a)(t);return 1===e&&(a=s),{maxDate:a,minDate:s}},lastMonth:function(){var t=new Date,e=t.getDate();t.setTime(t.getTime()-24*e*60*60*1e3);var a=Object(n.a)(t),s=t.getDate();return t.setTime(t.getTime()-24*(s-1)*60*60*1e3),{maxDate:a,minDate:Object(n.a)(t)}},today:function(){var t=new Date,e=Object(n.a)(t);return{startDate:e,endDate:e}},nearlyTwoWeeks:function(){var t=new Date,e=Object(n.a)(t);return t.setTime(t.getTime()-11232e5),{startDate:Object(n.a)(t),endDate:e}},rateChartOfRegisters:function(){var t=[],e=this.uerBriefData.userRegCount;t.push(this.uerBriefData.allowApplyCount),t.push(this.uerBriefData.allowApplyPassCount),t.push(this.uerBriefData.linkedBankCardCount),t.push(this.uerBriefData.linkedBankCardPassCount),t.push(this.uerBriefData.saveInfoCount),t.push(this.uerBriefData.faceVerifyCount),t.push(this.uerBriefData.acctApplyCount),t.push(this.uerBriefData.acctApplyPassCount),t.push(this.uerBriefData.acctOpenCount),t.push(this.uerBriefData.contractSignedCount);for(var a=0;a<t.length;a++)0!==e?0!==t[a]&&(t[a]=(t[a]/e).toFixed(3)):t[a]=0;return t}},methods:{initData:function(t){var e=Object(n.g)(new Date-864e5),a={sessionid:this.userperadmin.sessionid,minDate:e,maxDate:e,appId:t};this.search(a,1);var s="",i="";void 0!==this.fastSelectedDate&&""!==this.fastSelectedDate&&void 0!==this.fastSelectedDate.minDate?(s=this.fastSelectedDate.minDate,i=this.fastSelectedDate.maxDate,this.fastSelectedDate=this.fastSelectedDate):void 0!==this.rangeDate&&""!==this.rangeDate&&this.rangeDate.length>0?(s=Object(n.a)(this.rangeDate[0]),i=Object(n.a)(this.rangeDate[1])):(s=this.recentSevenDays.minDate,i=this.recentSevenDays.maxDate,this.fastSelectedDate=this.recentSevenDays);var r={sessionid:this.userperadmin.sessionid,minDate:s,maxDate:i,appId:t};this.search(r,2)},getAppArrayFun:function(){var t=this,e={sessionid:this.userperadmin.sessionid};Object(s.G)(e).then(function(e){0===e.data.status?(t.appInfo.list=e.data.appList,t.appInfo.selected=t.appInfo.list[0].id,t.initData(t.appInfo.selected)):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员","error")})},appChange:function(t){this.initData(t)},getSelectedDateFun:function(){this.rangeDate=[];var t={sessionid:this.userperadmin.sessionid,appId:this.appInfo.selected,minDate:this.fastSelectedDate.minDate,maxDate:this.fastSelectedDate.maxDate};this.search(t,2)},defineSearchFun:function(){this.fastSelectedDate={};var t={sessionid:this.userperadmin.sessionid,appId:this.appInfo.selected,minDate:Object(n.a)(this.rangeDate[0]),maxDate:Object(n.a)(this.rangeDate[1])};this.search(t,2)},toggleSelectorFun:function(){this.toggle=!this.toggle},lineDataFormatter:function(t){try{var e=this;e.lineChartData[0].xLengend=[],e.lineChartData[0].data.outRegister=[],e.lineChartData[0].data.outUpload=[],e.lineChartData[0].data.outAccount=[],e.lineChartData[0].data.outFirstGetPer=[],e.lineChartData[0].data.outFirstGetSum=[],t.forEach(function(t){e.lineChartData[0].xLengend.push(t.date),e.lineChartData[0].data.outRegister.push(t.outRegister),e.lineChartData[0].data.outUpload.push(t.outUpload),e.lineChartData[0].data.outAccount.push(t.outAccount),e.lineChartData[0].data.outFirstGetPer.push(t.outFirstGetPer),e.lineChartData[0].data.outFirstGetSum.push(t.outFirstGetSum)}),setTimeout(function(){e.clearLineChart=!0},500)}catch(t){}},search:function(t,e){var a=this;this.loading=!0,Object(s.W)(t).then(function(t){a.loading=!1,0===t.data.status?1===e?(a.yestodayData.splice(0),a.yestodayData=t.data.firstPage):(a.datas.splice(0),a.datas=t.data.firstPage,a.clearLineChart=!1,a.lineDataFormatter(a.datas),a.datas=a.datas.reverse()):1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(t){a.loading=!1,a.toast("服务器错误，请联系管理员","error")})},toast:function(t,e){this.$message({type:e,message:t})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page index-page"},[a("div",{staticClass:"search-wrapper"},[a("label",{attrs:{for:""}},[t._v("切换产品：")]),t._v(" "),a("el-select",{staticClass:"selector",attrs:{size:"small",filterable:"","default-first-option":"",placeholder:"选择产品"},on:{change:t.appChange},model:{value:t.appInfo.selected,callback:function(e){t.$set(t.appInfo,"selected",e)},expression:"appInfo.selected"}},t._l(t.appInfo.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"昨日渠道数据"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.thead,function(e){return a("th",[t._v(t._s(e))])}))]),t._v(" "),a("tbody",t._l(t.yestodayData,function(e,s){return a("tr",[a("td",[t._v(t._s(e.date))]),t._v(" "),a("td",[t._v(t._s(e.outRegister))]),t._v(" "),a("td",[t._v(t._s(e.outUpload))]),t._v(" "),a("td",[t._v(t._s(e.outAccount))]),t._v(" "),a("td",[t._v(t._s(e.outFirstGetPer))]),t._v(" "),a("td",[t._v(t._s(e.outFirstGetSum))])])}))])]),t._v(" "),t.showOrigin?a("el-tab-pane",{attrs:{label:"昨日渠道数据（原始）"}},[a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.thead,function(e){return a("th",[t._v(t._s(e))])}))]),t._v(" "),a("tbody",t._l(t.yestodayData,function(e,s){return a("tr",[a("td",[t._v(t._s(e.date))]),t._v(" "),a("td",[t._v(t._s(e.register))]),t._v(" "),a("td",[t._v(t._s(e.upload))]),t._v(" "),a("td",[t._v(t._s(e.account))]),t._v(" "),a("td",[t._v(t._s(e.firstGetPer))]),t._v(" "),a("td",[t._v(t._s(e.firstGetSum))])])}))])]):t._e()],1),t._v(" "),a("div",{staticClass:"data-wrap"},[a("div",{staticClass:"wrap-header"},[t._v("\r\n\t\t\t数据图表\r\n\t\t")]),t._v(" "),a("div",{staticClass:"wrap-content"},[a("div",{staticClass:"content-header"},[t.toggle?a("div",{staticClass:"select-wrap"},[a("button",{staticClass:"btn single-btn",on:{click:t.toggleSelectorFun}},[a("i",{staticClass:"fa fa-exchange"}),t._v("自定义查询")]),t._v(" "),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"date-radio-group",attrs:{disabled:t.loading,fill:"#409EFF"},on:{change:t.getSelectedDateFun},model:{value:t.fastSelectedDate,callback:function(e){t.fastSelectedDate=e},expression:"fastSelectedDate"}},[a("el-radio-button",{attrs:{label:t.recentSevenDays}},[t._v("近7天")]),t._v(" "),a("el-radio-button",{attrs:{label:t.thisWeek}},[t._v("本周")]),t._v(" "),a("el-radio-button",{attrs:{label:t.lastWeek}},[t._v("上周")]),t._v(" "),a("el-radio-button",{attrs:{label:t.thisMonth}},[t._v("本月")]),t._v(" "),a("el-radio-button",{attrs:{label:t.lastMonth}},[t._v("上月")])],1)],1):t._e(),t._v(" "),t.toggle?t._e():a("div",{staticClass:"select-wrap"},[a("button",{staticClass:"btn single-btn",on:{click:t.toggleSelectorFun}},[a("i",{staticClass:"fa fa-exchange"}),t._v("快速查询")]),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.rangeDate,callback:function(e){t.rangeDate=e},expression:"rangeDate"}}),t._v(" "),a("button",{staticClass:"btn link-btn",on:{click:t.defineSearchFun}},[a("i",{staticClass:"fa fa-search"}),t._v("查询")])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-main"},[a("div",{staticClass:"line-chart-wrap",attrs:{id:"lineCharts"}},[t.clearLineChart?a("line-chart",{attrs:{data:t.lineChartData[0],index:0}}):t._e()],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.datas,height:"380",border:"",size:"small","show-summary":""}},[a("el-table-column",{attrs:{type:"index",width:"70",label:"序号","label-class-name":"cell"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"outRegister",label:"注册","class-name":"cell1",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"outUpload",label:"进件","class-name":"cell2",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"outAccount",label:"开户","class-name":"cell3",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"outFirstGetPer",label:"首提人数","class-name":"cell4",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"outFirstGetSum",label:"首提总额(元)",width:"180","class-name":"cell5",sortable:""}})],1)],1)])])],1)},staticRenderFns:[]},c=a("vSla")(l,d,!1,function(t){a("vM34"),a("26r+")},"data-v-d34fedee",null);e.default=c.exports},vM34:function(t,e){}});
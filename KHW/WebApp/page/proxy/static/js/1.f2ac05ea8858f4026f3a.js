webpackJsonp([1],{"72x0":function(e,t,a){a("7XU4"),e.exports=a("AKd3").Object.keys},"7XU4":function(e,t,a){var n=a("OXaN"),i=a("5pnV");a("t+Om")("keys",function(){return function(e){return i(n(e))}})},"Cl/E":function(e,t,a){var n=a("5pnV"),i=a("/r4/"),s=a("XvZ9").f;e.exports=function(e){return function(t){for(var a,o=i(t),l=n(o),r=l.length,c=0,d=[];r>c;)s.call(o,a=l[c++])&&d.push(e?[a,o[a]]:o[a]);return d}}},MgeX:function(e,t,a){e.exports={default:a("XEbU"),__esModule:!0}},NWpI:function(e,t,a){var n=a("FITv"),i=a("Cl/E")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},XEbU:function(e,t,a){a("NWpI"),e.exports=a("AKd3").Object.values},XiN2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=a("a3Yh"),s=a.n(i),o=a("MgeX"),l=a.n(o),r=a("ZLEe"),c=a.n(r),d=a("3cXf"),p=a.n(d),h=a("P9l9"),f=a("dia3"),u={},m={data:function(){return{fcDetailInfo:{visible:!1,loading:!1,data:[]},currentLevel:2,editAll:0,userperadmin:{},first:0,show:1,companyList:[],companySelected:"",fuzzySearchCompany:"",loading:!1,loading1:!1,loading2:!1,loading3:!1,loading4:!1,loading5:!1,loading6:!1,companyTableData:[],currentPage:1,pageSizes:[10,20,50],pageSize:10,dataSize:0,editId:"",createTime:"",channelCou:"",permissionId:"",originMobileNo:"",actionCompanyInfo:{sessionid:"",company:"",bankAccount:"",bank:"",dutyParagraph:"",phone:"",address:"",contacts:"",mobileno:"",email:"",pwd:"",taxNo:""},payforInfo:{showPayforViews:!1,showAddBtn:!0,loading:!1,add:!1,companyList:[],appList:[],usableAppList:[],selectedAppList:[],payList:[],list:[],addItem:{id:0,appid:"",companyId:"",pay:"",actionState:0}},permissionInfo:{loading:!1,name:[],list:[],app:{}},actionValidate:{mobileNo:!1,email:!1,channelNo:!1},isEdit:!1,editChannelId:"",editRewardId:"",editRewards:[],channelInfo:{proxyId:"",channelName:"",channelList:[],channelNo:"",channelNoList:[],channelLevel:"",channelLevalList:[{channelNo:"",name:"全部渠道级别"},{channelNo:1,name:"一级渠道"},{channelNo:2,name:"二级渠道"}],channelMan:"",channelManList:[],appSelected:"",currentPage:1,pageSizes:[10,20,50],pageSize:10,dataSize:0,first:0,show:1},currentCompany:"",currentFirstLevelChannelNo:"",channelTableData:[],companyInfo:{id:"",name:"",channelCount:0},createChannelAuthority:!1,channelAttributeList:[],channelTypeList:[],subdivisionList:[],hasError:!1,originChannelNo:"",originChannel:"",channelPrefix:"",firstLevelChannelRewardInfo:{visible:!1,loading:!1,tableData:[],editData:[]},actionChannelInfo:{selectedAppList:[],sessionid:"",proxyId:"",higherChannelId:"",level:"",channelName:"",channelNamePY:"",channelNo:"",channel:"",isCreate:1,appId:"",attribute:"",type:"",subdivision:"",url:"",rewardId:"",gitTimestartAndEnd:"",adminId:"",permissionId:"",rewards:[],isSynchro:1,synchronous:0,seo:0,status:1,pwd:"",isChange:0},appInfo:{currentUrl:"",appList:[],appSelected:"",fcAppList:[],fcAppSelected:""},channelAttributeInfo:{attributeList:[],attributeSelected:"",attributeIdSelected:"",parentIdSelected:""},channelTypeInfo:{typeListAll:[],typeList:[],typeSelected:""},channelDivisionInfo:{divisionListAll:[],divisionList:[],divisionSelected:""},fcType:{isStep:0,stepData:"",text:"分成单价",text1:"注册用户",unitText:"元"},firstLevelFcDataList:[],mainReward:{channelId:"",data:{}},fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]},editFcTypeData:[],rewardTypeInfo:{typeList:[],typeSelected:26},settlementCycleInfo:{typeListAll:[],typeList:[],typeSelected:"",disabled:!1},cacCostTypeInfo:{typeListAll:[],typeList:[],typeSelected:""},manInfo:{manListAll:[],manList:[],manSelected:""},datetimeInfo:{currentDate:"",currentDatetime:""},chartPermissionInfo:{id:0,registerChartPermission:!1,loginChartPermission:!1,applyChartPermission:!1,loanAcctChartPermission:!1,cashNumCharPermission:!1,firstCashAmtChartPermission:!1,totalCashAmtChartPermission:!1},fcHistoryList:[],dialogVisible:!1,noFormal:!1,lookchannel:!1,Edit:!1,login:!1,addchannel:!1,addlookchannel:!1,lookchannelEdit:!1,lookchannelHistory:!1}},mounted:function(){var e=this;try{for(var t=JSON.parse(unescape(sessionStorage.getItem("userPermiss"))),a=0;a<t.data.length;a++)if("01"==t.data[a].meta&&t.data[a].children&&t.data[a].children.length>0)for(var n=0;n<t.data[a].children.length;n++)if("0101"==t.data[a].children[n].meta&&t.data[a].children[n].children&&t.data[a].children[n].children.length>0)for(var i=0;i<t.data[a].children[n].children.length;i++)"010101"==t.data[a].children[n].children[i].meta?this.lookchannel="0"!=t.data[a].children[n].children[i].show:"010102"==t.data[a].children[n].children[i].meta?this.lookchannelEdit="0"!=t.data[a].children[n].children[i].show:"010103"==t.data[a].children[n].children[i].meta?this.lookchannelHistory="0"!=t.data[a].children[n].children[i].show:"010104"==t.data[a].children[n].children[i].meta?this.addlookchannel="0"!=t.data[a].children[n].children[i].show:"010105"==t.data[a].children[n].children[i].meta?this.addchannel="0"!=t.data[a].children[n].children[i].show:"010106"==t.data[a].children[n].children[i].meta?this.Edit="0"!=t.data[a].children[n].children[i].show:"010107"==t.data[a].children[n].children[i].meta&&(this.login="0"!=t.data[a].children[n].children[i].show)}catch(e){}var s=JSON.parse(localStorage.getItem("userperadmin"));this.userperadmin=s,this.editAll=1|this.userperadmin.admin.editAll;var o={sessionid:s.sessionid};this.loading1=!0,Object(h.v)(o).then(function(t){e.loading1=!1,0===t.data.status?e.companyList=t.data.proxyList:1===t.data.status?e.$router.replace("/login"):e.toast(t.data.statusMsg,"error")}).catch(function(t){e.loading1=!1,e.toast("服务器错误，请联系管理员","error")}),this.getChannelList()},filters:{fcNameFilter:function(e){for(var t=0;t<u.length;t++)if(e===u[t].id)return u[t].name},fcNumberFilter:function(e){for(var t=0;t<u.length;t++)if(e===u[t].id)return u[t].other.split(",")[0]},fcNumber1Filter:function(e){for(var t=0;t<u.length;t++)if(e===u[t].id)return u[t].other.split(",")[1]},fcNumber2Filter:function(e){for(var t=0;t<u.length;t++)if(e===u[t].id)return u[t].other.split(",")[2]},firstFcFormatter:function(e){return e?parseInt(e.max)+1:0},lastFcFormatter:function(e){return parseInt(e.max)+1},rewardTypeIdFilter:function(e){for(var t=0;t<u.length;t++)if(e===u[t].id)return u[t].name}},computed:{current:function(){return 1===this.show?"渠道商列表":2===this.show?"新增渠道商":3===this.show?"编辑渠道商信息":"子渠道商列表"},searchPage:function(){return this.currentPage-1},channelListPosition:function(){return 2===this.channelInfo.show?"新增渠道":"编辑渠道信息"}},methods:(n={test:function(e){},resetPayInfo:function(){this.payforInfo.list.splice(0),this.payforInfo.addItem.appid="",this.payforInfo.addItem.companyId="",this.payforInfo.addItem.pay="",this.payforInfo.add=!1,this.permissionInfo.name.splice(0),this.permissionInfo.list.splice(0)},getPayforCompanyFun:function(e){var t=this;this.payforInfo.proxyId=e;var a={sessionid:this.userperadmin.sessionid,proxyid:e};Object(h.Z)(a).then(function(a){0===a.data.status?(t.payforInfo.companyList=a.data.balanceAccountList,t.payforInfo.appList=a.data.appList,t.payforInfo.usableAppList=a.data.appList.slice(0),t.payforInfo.payList=a.data.payList,t.getPayCompanyFun(e)):1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员","error")})},getPayCompanyFun:function(e,t,a){var n=this,i={sessionid:this.userperadmin.sessionid,proxyid:e};this.payforInfo.loading=!0,Object(h.Y)(i).then(function(i){if(0===i.data.status){n.payforInfo.loading=!1;var s=n;n.payforInfo.list.splice(0),i.data.payCompanyList.forEach(function(e,t,a){var n=e;n.actionState=1,s.payforInfo.list.push(n)}),n.payforInfo.list.length===n.payforInfo.appList.length?s.payforInfo.showAddBtn=!1:s.payforInfo.showAddBtn=!0,0!==n.payforInfo.list.length&&(n.payforInfo.usableAppList.splice(0),n.permissionInfo.name.splice(0),n.permissionInfo.app={},n.payforInfo.appList.forEach(function(e){for(var t=s.payforInfo.list,a=0;a<t.length;a++)e.id==t[a].appid?(s.permissionInfo.app[e.id]=e,s.permissionInfo.name.push(e.name),s.payforInfo.selectedAppList.push(e.appid)):s.payforInfo.usableAppList.push(e)})),"fromChannel"===t?(n.payforInfo.selectedAppList.splice(0),n.payforInfo.list.forEach(function(e){s.payforInfo.selectedAppList.push(e.appid)}),n.getFirstLevelRewardListFun(a,n.payforInfo.selectedAppList)):"fromActionChannel"===t?(n.actionChannelInfo.selectedAppList.splice(0),n.appInfo.appList.forEach(function(e){for(var t=s.payforInfo.list,a=0;a<t.length;a++)e.id==t[a].appid&&s.actionChannelInfo.selectedAppList.push({name:e.name,id:e.id})}),n.getRewardMainFun(a)):0!==n.payforInfo.list.length&&n.getPermissionFun(e)}else 1===i.data.status?n.$router.replace("/login"):n.toast(i.data.statusMsg,"error")}).catch(function(e){n.payforInfo.loading=!1,n.toast("服务器错误，请联系管理员","error")})},addPayforInfo:function(){this.payforInfo.list.length!==this.payforInfo.appList?this.payforInfo.add=!0:this.showAddBtn=!1},addPayforInfoFun:function(){this.savePayforInfo(this.payforInfo.addItem)},cancelAddPayfor:function(){this.payforInfo.add=!1},editPayforInfo:function(e,t){e.actionState=2},savePayforInfo:function(e,t){var a=this;if(0===e.actionState)""===e.app&&this.toast("请选择产品","error"),""===e.company&&this.toast("请选择付款公司","error");else{var n={sessionid:this.userperadmin.sessionid,proxyid:this.payforInfo.proxyId,companyId:e.companyId,appid:e.appid,pay:e.pay,id:e.id};void 0!==t?(this.payforInfo.list[t].actionState=1,this.payforInfo.add=!1):(this.payforInfo.add=!1,this.payforInfo.addItem.appid="",this.payforInfo.addItem.companyId="",this.payforInfo.addItem.actionState=0),this.payforInfo.loading=!0,Object(h.g)(n).then(function(e){0===e.data.status?(a.payforInfo.loading=!1,a.getPayCompanyFun(a.payforInfo.proxyId)):1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.payforInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})}},payforChangeOfApp:function(){},payforChange:function(e,t){void 0!==t?""===e.app||""===e.company||""===e.pay?this.payforInfo.list[t].actionState=0:this.payforInfo.list[t].actionState=2:""!==this.payforInfo.addItem.appid&&""!==this.payforInfo.addItem.companyId&&""!==this.payforInfo.addItem.pay?this.payforInfo.addItem.actionState=2:this.payforInfo.addItem.actionState=0},noFormalChannel:function(e,t){this.noFormal=!0,this.generateChannelCode()},indexFormatter:function(e){return this.pageSize*(this.currentPage-1)+1+e},indexFormatter1:function(e){return this.channelInfo.pageSize*(this.channelInfo.currentPage-1)+1+e},timeStempFormatter:function(e,t,a){return Object(f.h)(e.date)},getChannelFcHistoryFun:function(e,t){var a=this;this.dialogVisible=!0;var n={sessionid:this.userperadmin.sessionid,channelId:e.id};this.fcHistoryList=[],this.loading6=!0,Object(h._9)(n).then(function(e){if(a.loading6=!1,0===e.data.status){a.fcHistoryList=e.data.rewardList;var t=a;a.fcHistoryList.forEach(function(e,a,n){n[a].rewardPrice=t.rewardPriceFormatter(e.rewardPrice)})}else 1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.loading6=!1,a.toast("服务器错误，请联系管理员1","error")})},checkCompanyFun:function(){},checkMobileNo:function(){var e=this.actionCompanyInfo.mobileno.toString();return""!==e&&11===e.length&&/^1[3|4|5|6|7|8|9][0-9]{9}$/.test(this.actionCompanyInfo.mobileno)?(this.actionValidate.mobileNo=!1,!0):(this.toast("联系人电话不正确","warning"),this.actionValidate.mobileNo=!0,!1)},checkEmail:function(){return""===this.actionCompanyInfo.email||-1===this.actionCompanyInfo.email.indexOf("@")||-1===this.actionCompanyInfo.email.indexOf(".")?(this.actionValidate.email=!0,this.toast("联系人邮箱不正确","warning"),!1):(this.actionValidate.email=!1,!0)},checkMobileNoFun:function(){var e=this;if((2===this.show||3===this.show)&&this.checkMobileNo()&&this.actionCompanyInfo.mobileno.toString()!==this.originMobileNo.toString()){var t={sessionid:this.userperadmin.sessionid,mobileNo:this.actionCompanyInfo.mobileno};Object(h.r)(t).then(function(t){0===t.data.status||(1===t.data.status?e.$router.replace("/login"):(e.hasError=!0,e.toast(t.data.statusMsg,"error")))}).catch(function(t){e.toast("服务器错误，请联系管理员","error")})}},checkEmailFun:function(){var e=this;if((2===this.show||3===this.show)&&this.checkEmail()){var t={sessionid:this.userperadmin.sessionid,email:this.actionCompanyInfo.email};Object(h.p)(t).then(function(t){0===t.data.status||(1===t.data.status?e.$router.replace("/login"):(e.hasError=!0,e.toast(t.data.statusMsg,"error")))}).catch(function(t){e.toast("服务器错误，请联系管理员","error")})}},companyFilter:function(e){this.fuzzySearchCompany=e},searchByCompany:function(){var e,t=parseInt(this.companySelected);""===this.companySelected?(this.first=0,this.getChannelList()):isNaN(t)?(e={sessionid:this.userperadmin.sessionid,company:this.companySelected,first:0},this.getChannelList(e)):(e={sessionid:this.userperadmin.sessionid,id:this.companySelected,first:0},this.getChannelList(e))},getChannelList:function(e){var t=this;if(!this.loading){if(e)e.pageId=this.searchPage,e.pageSize=this.pageSize;else if(e={sessionid:this.userperadmin.sessionid,first:this.first,pageId:this.searchPage,pageSize:this.pageSize},""!==this.companySelected){var a=parseInt(this.companySelected);isNaN(a)?e.company=this.companySelected:e.id=this.companySelected}this.loading=!0,Object(h.k)(e).then(function(e){t.loading=!1,0===e.data.status?(e.data.listSize&&(t.dataSize=parseInt(e.data.listSize)),t.companyTableData=e.data.proxyList):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.loading=!1,t.toast("服务器错误，请联系管理员","error")})}},pageSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.first=1,this.getChannelList()},currentPageChange:function(e){this.currentPage=e,this.first=1,this.getChannelList()},cancelAdd:function(){this.resetActionInput(),this.show=1},saveCompanyInfo:function(){var e,t=this;if(!this.loading4)if(""!==this.actionCompanyInfo.company)if(""!==this.actionCompanyInfo.contacts){var a=this.actionCompanyInfo.mobileno.toString();if(""!==a&&11===a.length)if(""!==this.actionCompanyInfo.email)if(-1!==this.actionCompanyInfo.email.indexOf("@"))if(""!==this.actionCompanyInfo.pwd||2!==this.show){var n=!0;this.permissionInfo.list.forEach(function(e){1!==e.registerChartPermission&&1!==e.loginChartPermission&&1!==e.applyChartPermission&&1!==e.loanAcctChartPermission&&1!==e.cashNumCharPermission&&1!==e.firstCashAmtChartPermission&&1!==e.totalCashAmtChartPermission&&(n=!1)}),n?(e=p()(this.actionCompanyInfo),(e=JSON.parse(e)).channelPermissionList=this.permissionInfo.list,2===this.show&&(e.sessionid=this.userperadmin.sessionid),3===this.show&&(e.id=this.editId,e.channelCou=this.channelCou,e.permissionId=this.permissionId,e.createTime=this.createTime),this.loading4=!0,Object(h._22)(e).then(function(e){t.loading4=!1,0===e.data.status?(t.toast("保存成功","success"),t.show=1,t.getChannelList()):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.loading4=!1,t.toast("服务器错误，请联系管理员","error")})):this.toast("请选择账户权限","warning")}else this.toast("初始密码不能为空","warning");else this.toast("联系人邮箱格式不正确","warning");else this.toast("联系人邮箱不能为空","warning");else this.toast("联系人电话不能为空且长度为11","warning")}else this.toast("联系人不能为空","warning");else this.toast("公司名称不能为空","warning")},backToIndex:function(){this.show=1,this.channelInfo.show=1,this.channelInfo.channelList=[],this.channelInfo.channelName="",this.channelInfo.channelNoList=[],this.channelInfo.channelNo="",this.channelInfo.channelLevel="",this.manInfo.manSelected="",this.manInfo.manList=[],this.resetPayInfo()},backToChannelList:function(){this.show=4,this.channelInfo.show=1}},s()(n,"backToChannelList",function(){this.channelInfo.show=1}),s()(n,"getFirstChannelFun",function(e){var t=this,a={sessionid:this.userperadmin.sessionid,proxyid:e};Object(h.X)(a).then(function(e){0===e.data.status?t.currentFirstLevelChannelNo=e.data.mainChannel.replace("all_",""):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员2","error")})}),s()(n,"subChannels",function(e,t){this.show=4,this.channelTableData=[],this.channelInfo.proxyId=e.id,this.companyInfo.id=e.id,this.companyInfo.name=e.company,this.companyInfo.channelCount=e.channelCou,this.currentCompany=e.company,this.permissionId=e.permissionId,e.channelNo&&""!==e.channelNo?this.currentFirstLevelChannelNo=e.channelNo.replace("all_",""):e.channelCou>0&&this.getFirstChannelFun(e.id),this.getChannelParams(),this.searchChannelList(1),this.setActionChannelParams()}),s()(n,"resetActionInput",function(){this.actionCompanyInfo.company="",this.actionCompanyInfo.bankAccount="",this.actionCompanyInfo.bank="",this.actionCompanyInfo.dutyParagraph="",this.actionCompanyInfo.phone="",this.actionCompanyInfo.address="",this.actionCompanyInfo.contacts="",this.actionCompanyInfo.mobileno="",this.originMobileNo="",this.actionCompanyInfo.email="",this.actionCompanyInfo.pwd="",this.resetPayInfo()}),s()(n,"editCompany",function(e,t){this.payforInfo.showPayforViews=!0,this.getPayforCompanyFun(e.id),this.show=3,this.editId=e.id,this.createTime=e.createTime,this.channelCou=e.channelCou,this.permissionId=e.permissionId,this.actionCompanyInfo.sessionid=this.userperadmin.sessionid,this.actionCompanyInfo.company=e.company,this.actionCompanyInfo.bankAccount=void 0===e.bankAccount?"0":e.bankAccount,this.actionCompanyInfo.bank=void 0===e.bank?"0":e.bank,this.actionCompanyInfo.dutyParagraph=void 0===e.dutyParagraph?"0":e.dutyParagraph,this.actionCompanyInfo.phone=void 0===e.phone?"0":e.phone,this.actionCompanyInfo.address=void 0===e.address?"0":e.address,this.actionCompanyInfo.contacts=e.contacts,this.actionCompanyInfo.mobileno=e.mobileno,this.originMobileNo=e.mobileno,this.actionCompanyInfo.email=e.email,this.actionCompanyInfo.pwd=e.pwd,e.taxNo&&(this.actionCompanyInfo.taxNo=e.taxNo)}),s()(n,"getPermissionFun",function(e){var t=this,a={sessionid:this.userperadmin.sessionid,proxyid:e};this.permissionInfo.loading=!0,Object(h.R)(a).then(function(e){if(0===e.data.status){t.permissionInfo.loading=!1,t.permissionInfo.list.splice(0);var a=t;e.data.channelPermissionList.forEach(function(e){void 0!==a.permissionInfo.app[e.appid]&&a.permissionInfo.list.push(e)})}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.permissionInfo.loading=!1,t.toast("服务器错误，请联系管理员","error")})}),s()(n,"permissionFormatter",function(e,t){var a=c()(e),n=l()(e);if(1===t)n.forEach(function(t,n){"id"!==a[n]&&(e[a[n]]=1===t)});else if(2===t)n.forEach(function(t,n){"id"!==a[n]&&(e[a[n]]=!0===t?1:0)});else{if(3===t)return n.includes(!0);var i=this;n.forEach(function(e,t){"id"!==a[t]?i.chartPermissionInfo[a[t]]=!1:i.chartPermissionInfo[a[t]]=""})}return e}),s()(n,"addCompany",function(){this.resetActionInput(),this.show=2,this.payforInfo.showPayforViews=!1,this.actionCompanyInfo.pwd=this.shengchengmima()}),s()(n,"shengchengmima",function(){var e="0123456789abcdefghijklmnopqrstuvwxyz";return e[Math.floor(36*Math.random())]+e[Math.floor(36*Math.random())]+e[Math.floor(36*Math.random())]+e[Math.floor(36*Math.random())]+e[Math.floor(36*Math.random())]+e[Math.floor(36*Math.random())]}),s()(n,"deleteACompany",function(e,t){var a=this;this.$confirm("是否禁用“"+e.company+"(公司名称)”。点击“确定”确认禁用，点击“取消”关闭窗口，返回渠道管理页面","禁用渠道商",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){a.toast("删除成功!","success")}).catch(function(){a.toast("已取消删除!","info")})}),s()(n,"channelNameFilter",function(e){}),s()(n,"channelNoFilter",function(e){}),s()(n,"getChannelParams",function(){var e=this,t={sessionid:this.userperadmin.sessionid,proxyId:this.channelInfo.proxyId};this.loading2=!0,Object(h.Q)(t).then(function(t){if(e.loading2=!1,0===t.data.status){if(e.channelInfo.channelList=t.data.channelNameList,e.channelInfo.channelNoList=t.data.channelNoList,t.data.adminIdList&&0!==t.data.adminIdList.length){var a=e;a.channelInfo.channelManList=[];try{t.data.adminIdList.forEach(function(e,t){var n=e.split(","),i={id:n[0],name:n[1]};a.channelInfo.channelManList.push(i)})}catch(e){}}}else 1===t.data.status?e.$router.replace("/login"):e.toast(t.data.statusMsg,"error")}).catch(function(t){e.loading2=!1,e.toast("服务器错误，请联系管理员","error")})}),s()(n,"searchChannelList",function(e){var t=this,a={sessionid:this.userperadmin.sessionid,proxyId:this.channelInfo.proxyId,first:0,pageId:this.channelInfo.currentPage-1,pageSize:this.channelInfo.pageSize};void 0!==this.channelInfo.channelName&&""!==this.channelInfo.channelName&&(a.channelName=this.channelInfo.channelName.replace(/[-]/g,"")),void 0!==this.channelInfo.channelNo&&""!==this.channelInfo.channelNo&&(a.channel=this.channelInfo.channelNo.replace(/[-]/g,"")),void 0!==this.channelInfo.channelLevel&&""!==this.channelInfo.channelLevel&&(a.level=this.channelInfo.channelLevel),void 0!==this.channelInfo.channelMan&&""!==this.channelInfo.channelMan&&(a.adminId=this.channelInfo.channelMan),void 0!==this.channelInfo.appSelected&&""!==this.channelInfo.appSelected&&(a.appid=this.channelInfo.appSelected),this.loading3=!0,Object(h.S)(a).then(function(e){if(t.loading3=!1,0===e.data.status){if(e.data.channelList){var a=t;e.data.channelList.forEach(function(e,t,n){n[t].rewardPrice=a.rewardPriceFormatter(e.rewardPrice)})}t.channelTableData=e.data.channelList,e.data.listSize&&(t.channelInfo.dataSize=parseInt(e.data.listSize)),t.setActionChannelParams()}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.loading3=!1,t.toast("服务器错误，请联系管理员","error")})}),s()(n,"appFormatter",function(e,t,a){var n=a;return this.appInfo.appList.forEach(function(e){e.id===a&&(n=e.name)}),n}),s()(n,"rewardTypeIdFormatter",function(e,t,a){for(var n=0;n<this.rewardTypeInfo.typeList.length;n++)if(a===this.rewardTypeInfo.typeList[n].id)return this.rewardTypeInfo.typeList[n].name}),s()(n,"rewardPriceFormatter",function(e,t){if(e){var a=e.split(","),n=[],i=[];if(a.length<=1)if(1===t){var s=e.split("/");n.push(s[1])}else n.push(a[0]);else this.editFcTypeData=a,a.forEach(function(e,t){var a=e.split("/");i.push({max:a[0],price:a[1]}),n[t]=0===t?"0 - "+a[0]+" : "+a[1]:parseInt(i[t-1].max)+1+" - "+a[0]+" : "+a[1]});return n}}),s()(n,"channelTablePageSizeChange",function(e){this.channelInfo.pageSize=e,this.searchChannelList()}),s()(n,"channelTableCurrentPageChange",function(e){this.channelInfo.currentPage=e,this.searchChannelList()}),s()(n,"setActionChannelParams",function(e){var t=this,a={sessionid:this.userperadmin.sessionid};Object(h.T)(a).then(function(a){if(0===a.data.status){if(t.appInfo.appList=a.data.appList,t.appInfo.fcAppList=a.data.appList,t.channelAttributeInfo.attributeList=a.data.channelAttribute,t.channelTypeInfo.typeListAll=a.data.channelType,t.channelDivisionInfo.divisionListAll=a.data.channelSubdivision,a.data.adminIdList&&0!==a.data.adminIdList.length){var n=t;n.manInfo.manList=[],a.data.adminIdList.forEach(function(e,t){var a=e.split(","),i={id:a[0],name:a[1],index:a[2]};n.manInfo.manList.push(i)}),t.manInfo.manListAll=n.manInfo.manList}t.rewardTypeInfo.typeList=a.data.rewardTypeList,u=a.data.rewardTypeList,t.settlementCycleInfo.typeList=a.data.settlementCycleList,t.settlementCycleInfo.typeListAll=a.data.settlementCycleList,t.cacCostTypeInfo.typeList=a.data.costingList,e&&e(!0)}else 1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.loading=!1,t.toast("服务器错误，请联系管理员2","error")})}),s()(n,"addChannel",function(){this.resetChannelInfo(),this.channelInfo.show=2,this.isEdit=!1,this.companyInfo.channelCount>0?(this.currentLevel=2,this.actionChannelInfo.level="二级渠道",this.createChannelAuthority=!1,this.actionChannelInfo.gitTimestartAndEnd=Object(f.i)()[0]):(this.currentLevel=1,this.actionChannelInfo.level="一级渠道",this.createChannelAuthority=!0,this.initFcOfFirstChannel(this.channelInfo.proxyId))}),s()(n,"editChannel",function(e,t){var a=this;this.originChannelNo=e.channelNo,this.originChannel=e.channel,this.editChannelId=e.id,this.editRewardId=e.rewardId,this.actionChannelInfo.appId=e.appId,this.isEdit=!0,this.appInfo.appList.forEach(function(t,n){t.id===e.appId&&(a.appInfo.appSelected=n,a.channelPrefix=t.other2,a.appInfo.currentUrl=t.other)}),this.manInfo.manList=this.manInfo.manListAll,this.channelInfo.show=3,this.channelAttributeInfo.attributeSelected=0===e.attribute?"":e.attribute,this.channelTypeInfo.typeList=this.channelTypeInfo.typeListAll,this.attributeChange(e.attribute),this.channelTypeInfo.typeSelected=0===e.type?"":e.type,this.rewardTypeInfo.typeSelected=0===e.rewardTypeId?"":e.rewardTypeId,this.channelDivisionInfo.divisionList=this.channelDivisionInfo.divisionListAll,this.typeChange(e.type),this.channelDivisionInfo.divisionSelected=0===e.subdivision?"":e.subdivision,1===e.level?(this.currentLevel=1,this.createChannelAuthority=!0,this.actionChannelInfo.level="一级渠道",this.manInfo.manSelected=e.adminId.toString(),this.getFirstLevelPayforAppFun(e)):(this.getRewardListFun(e),this.currentLevel=2,this.createChannelAuthority=!1,this.actionChannelInfo.level="二级渠道"),this.actionChannelInfo.channelName=e.channelName,this.actionChannelInfo.channelNo=e.channelNo,this.actionChannelInfo.channel=e.channel,this.actionChannelInfo.url=e.url,this.actionChannelInfo.isSynchro=1|e.linkage,this.actionChannelInfo.synchronous=e.synchronous,this.actionChannelInfo.status=e.status,this.actionChannelInfo.seo=e.seo,e.pwd?this.actionChannelInfo.pwd=e.pwd.toString():this.actionChannelInfo.pwd=""}),s()(n,"initFcOfFirstChannel",function(e){var t=this,a={sessionid:this.userperadmin.sessionid,proxyid:e};Object(h.Y)(a).then(function(e){if(0===e.data.status){var a=t;t.firstLevelFcDataList=[],e.data.payCompanyList.forEach(function(e){a.firstLevelFcDataList.push({modified:!1,isChange:0,appid:parseInt(e.appid),isStep:0,fcType:26,settlementCycle:"",cacCostType:"",stepData:"",fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}})})}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员","error")})}),s()(n,"getFirstLevelPayforAppFun",function(e){this.getPayCompanyFun(this.channelInfo.proxyId,"fromActionChannel",e)}),s()(n,"getFirstLevelRewardListFun",function(e,t){var a=this;this.firstLevelChannelRewardInfo.tableData=[];var n=t.toString(),i={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n};""!==n?(this.firstLevelChannelRewardInfo.visible=!0,this.firstLevelChannelRewardInfo.loading=!0,Object(h._9)(i).then(function(e){if(a.firstLevelChannelRewardInfo.loading=!1,0===e.data.status){var t=a;e.data.rewardList.forEach(function(e){e.rewardPrice=t.rewardPriceFormatter(e.rewardPrice),t.firstLevelChannelRewardInfo.tableData.push(e)})}else 1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.firstLevelChannelRewardInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})):this.toast("请先配置付款公司","warning")}),s()(n,"getRewardMainFun",function(e,t){for(var a=this,n=[],i=0;i<this.actionChannelInfo.selectedAppList.length;i++)n.push(this.actionChannelInfo.selectedAppList[i].id);""===(n=n.toString())&&this.toast("请去配置付款公司","warning");var s={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n};Object(h._8)(s).then(function(t){if(0===t.data.status){var n=t.data.mainReward;for(var i in t.data.mainReward)t.data.mainReward[i][0]&&t.data.mainReward[i][0].date?a.actionChannelInfo.gitTimestartAndEnd=t.data.mainReward[i][0].date:a.actionChannelInfo.gitTimestartAndEnd="";a.firstLevelFcDataList.splice(0);var s=c()(n);a.mainReward.channelId=e.id;for(var o=0;o<s.length;o++){var l;if(0!==n[s[o]].length){if(1==n[s[o]].length)l={modified:!0,channelId:n[s[o]][0].channelId,id:n[s[o]][0].id,date:n[s[o]][0].date,appid:parseInt(s[o]),isStep:0,fcType:n[s[o]][0].typeId,settlementCycle:0===n[s[o]][0].settlementCycle?"":n[s[o]][0].settlementCycle,cacCostType:0===n[s[o]][0].costing?"":n[s[o]][0].costing,isChange:void 0!==n[s[o]][0].isChange?n[s[o]][0].isChange:0,stepData:n[s[o]][0].price,fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}};else{l={channelId:n[s[o]][0].channelId,id:n[s[o]][0].id,date:n[s[o]][0].date,appid:parseInt(s[o]),isStep:1,fcType:n[s[o]][0].typeId,settlementCycle:0===n[s[o]][0].settlementCycle?"":n[s[o]][0].settlementCycle,cacCostType:0===n[s[o]][0].costing?"":n[s[o]][0].costing,isChange:void 0!==n[s[o]][0].isChange?n[s[o]][0].isChange:0};var r={length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]};r.mins=[0],r.rewards=[],n[s[o]].forEach(function(e,t){t===n[s[o]].length-1?r.last.price=e.price:(r.mins.push(e.max+1),r.rewards.push({max:e.max,price:e.price}))}),r.length=n[s[o]].length-1,l.fcTypeData=r}a.firstLevelFcDataList.push(l)}else a.firstLevelFcDataList.push({modified:!1,appid:parseInt(s[o]),isStep:0,fcType:26,settlementCycle:"",cacCostType:"",isChange:0,stepData:"",fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}})}8==a.channelAttributeInfo.attributeSelected&&a.attributeChange(8,1)}else 1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.toast("服务器错误，请联系管理员1","error")})}),s()(n,"getRewardListFun",function(e){var t=this,a=[],n={sessionid:this.userperadmin.sessionid,rewardId:e.rewardId};Object(h._9)(n).then(function(e){if(0===e.data.status){a=e.data.rewardList,e.data.rewardList[0]&&e.data.rewardList[0].date?t.actionChannelInfo.gitTimestartAndEnd=e.data.rewardList[0].date:t.actionChannelInfo.gitTimestartAndEnd="",t.editRewards=a;var n=e.data.rewardList.length;if(0!==n)if(1===n)t.fcType.isStep=0,t.fcType.stepData=e.data.rewardList[0].price,t.fcType.typeSelected=e.data.rewardList[0].typeId,t.settlementCycleInfo.typeSelected=0===e.data.rewardList[0].settlementCycle?"":e.data.rewardList[0].settlementCycle,t.cacCostTypeInfo.typeSelected=e.data.rewardList[0].costing,t.manInfo.manSelected=e.data.rewardList[0].adminId.toString(),t.actionChannelInfo.isChange=e.data.rewardList[0].isChange;else{t.fcType.isStep=1,t.actionChannelInfo.isChange=e.data.rewardList[0].isChange,t.fcType.typeSelected=e.data.rewardList[0].typeId,t.settlementCycleInfo.typeSelected=e.data.rewardList[0].settlementCycle,t.cacCostTypeInfo.typeSelected=0===e.data.rewardList[0].costing?"":e.data.rewardList[0].costing,t.manInfo.manSelected="0"===e.data.rewardList[0].adminId.toString()?"":e.data.rewardList[0].adminId.toString();var i=t;i.fcTypeData.mins=[0],i.fcTypeData.rewards=[],e.data.rewardList.forEach(function(e,t){t===n-1?i.fcTypeData.last.price=e.price:(i.fcTypeData.mins.push(e.max+1),i.fcTypeData.rewards.push({max:e.max,price:e.price}))}),i.fcTypeData.length=n-1}}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员1","error")})}),s()(n,"deleteAChannel",function(e,t){var a=this;this.$confirm("是否禁用“"+e.channelName+"(渠道名称)”。点击“确定”确认禁用，点击“取消”关闭窗口，返回渠道管理页面","禁用渠道",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){a.toast("禁用成功!","success")}).catch(function(){a.toast("已取消禁用","info")})}),s()(n,"cancelAddChannel",function(){this.resetChannelInfo(),this.channelInfo.show=1}),s()(n,"resetChannelInfo",function(){this.actionChannelInfo.channelName="",this.actionChannelInfo.channelNo="",this.actionChannelInfo.channel="",this.actionChannelInfo.url="",this.actionChannelInfo.isSynchro=1,this.actionChannelInfo.status=1,this.actionChannelInfo.synchronous=0,this.actionChannelInfo.pwd="",this.appInfo.appSelected="",this.channelAttributeInfo.attributeSelected="",this.channelTypeInfo.typeSelected="",this.channelDivisionInfo.divisionSelected="",this.rewardTypeInfo.typeSelected=26,this.fcType.isStep=0,this.fcType.stepData="",this.fcTypeData.last={max:999999999,price:0},this.fcTypeData.rewards=[{max:0,price:0}],this.fcTypeData.mins=[0],this.settlementCycleInfo.typeSelected="",this.cacCostTypeInfo.typeSelected="",this.manInfo.manSelected="",this.manInfo.manSelected="",this.cacCostTypeInfo.typeSelected="",this.settlementCycleInfo.typeSelected=""}),s()(n,"saveFirstChannelFcInfo",function(e){var t=this;if(void 0!==e)for(var a=c()(this.mainReward.data),n=0;n<a.length;n++)this.mainReward.data[a[n]].forEach(function(t){t.channelId=e});var i={sessionid:this.userperadmin.sessionid,mainReward:this.mainReward.data};Object(h._19)(i).then(function(e){0===e.data.status?(t.channelInfo.show=1,t.searchChannelList(),t.resetChannelInfo(),t.getChannelParams()):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员","error")})}),s()(n,"saveChannelInfo",function(){if(!this.loading5)if(""!==this.actionChannelInfo.channelName)if(this.actionValidate.channelNo)this.toast("渠道编码不能为空","warning");else if(""!==this.appInfo.appSelected||"一级渠道"===this.actionChannelInfo.level)if(""!==this.channelAttributeInfo.attributeSelected)if(""!==this.channelTypeInfo.typeSelected)if(""!==this.channelDivisionInfo.divisionSelected){if(8!==this.channelAttributeInfo.attributeSelected)if("一级渠道"===this.actionChannelInfo.level){if(0===this.firstLevelFcDataList.length)return void this.toast("请先配置付款公司","warning");for(var e=0;e<this.firstLevelFcDataList.length;e++){if(0===this.firstLevelFcDataList[e].isStep&&""===this.firstLevelFcDataList[e].stepData)return void this.toast("分成单价(分成比例)不能为空","warning");if(1===this.firstLevelFcDataList[e].isStep&&(t=l()(this.firstLevelFcDataList[e].fcTypeData.rewards)).includes(0)&&t.includes("")&&0===this.firstLevelFcDataList[e].fcTypeData.last.price&&""===this.firstLevelFcDataList[e].fcTypeData.last.price)return void this.toast("分成单价(分成比例|首提人数|首提金额|注册用户数)不能为空","warning");if(""===this.firstLevelFcDataList[e].cacCostType)return void this.toast("成本计算方式不能为空","warning")}}else if("一级渠道"!==this.actionChannelInfo.level){if(0===this.fcType.isStep&&""===this.fcType.stepData)return void this.toast("分成单价(分成比例)不能为空","warning");var t;if(1===this.fcType.isStep&&(t=l()(this.fcTypeData.rewards)).includes(0)&&t.includes("")&&0===this.fcTypeData.last.price&&""===this.fcTypeData.last.price)return void this.toast("分成单价(分成比例|首提人数|首提金额|注册用户数)不能为空","warning");if(""===this.cacCostTypeInfo.typeSelected)return void this.toast("成本计算方式不能为空","warning")}if("一级渠道"===this.actionChannelInfo.level){for(e=0;e<this.firstLevelFcDataList.length;e++)if(""===this.firstLevelFcDataList[e].settlementCycle)return void this.toast("结算周期不能为空","warning")}else if("一级渠道"!==this.actionChannelInfo.level&&""===this.settlementCycleInfo.typeSelected)return void this.toast("结算周期不能为空","warning");if(""!==this.manInfo.manSelected)if(""===this.actionChannelInfo.pwd&&this.actionChannelInfo.pwd.length<5)this.toast("登陆密码不能为空且不能少于5位","warning");else if(this.actionChannelInfo.gitTimestartAndEnd){var a={sessionid:this.userperadmin.sessionid,proxyId:this.companyInfo.id,level:"二级渠道"===this.actionChannelInfo.level?2:1,channelName:this.actionChannelInfo.channelName,channelNamePY:"",channelNo:this.actionChannelInfo.channelNo,channel:this.actionChannelInfo.channel,isCreate:"二级渠道"===this.actionChannelInfo.level?0:this.actionChannelInfo.isCreate,appId:this.actionChannelInfo.appId,attribute:this.channelAttributeInfo.attributeSelected,type:this.channelTypeInfo.typeSelected,subdivision:this.channelDivisionInfo.divisionSelected,url:this.actionChannelInfo.url,adminId:this.manInfo.manSelected,permissionId:this.permissionId,synchronous:this.actionChannelInfo.synchronous,status:this.actionChannelInfo.status,pwd:this.actionChannelInfo.pwd,seo:this.actionChannelInfo.seo};if(3===this.channelInfo.show&&(a.id=this.editChannelId,a.rewardId=this.editRewardId),this.actionChannelInfo.rewards=[],"一级渠道"===this.actionChannelInfo.level){if(this.firstLevelFcDataList.length>0)for(e=0;e<this.firstLevelFcDataList.length;e++){var n={},i=this.firstLevelFcDataList[e].appid;if(this.mainReward.data[i]=[],0===this.firstLevelFcDataList[e].isStep)n.appid=i,n.channelId=this.mainReward.channelId,this.firstLevelFcDataList[e].id&&(n.id=this.firstLevelFcDataList[e].id,n.date=this.actionChannelInfo.gitTimestartAndEnd),n.price=this.firstLevelFcDataList[e].stepData,n.order=1,n.adminId=this.manInfo.manSelected,n.updateAdminId=this.userperadmin.admin.id,n.costing=this.firstLevelFcDataList[e].cacCostType,n.isChange=this.firstLevelFcDataList[e].isChange,n.settlementCycle=this.firstLevelFcDataList[e].settlementCycle,8!==this.channelAttributeInfo.attributeSelected?n.typeId=this.firstLevelFcDataList[e].fcType:n.typeId="",this.mainReward.data[i].push(n);else{var s=this.firstLevelFcDataList[e].fcTypeData.rewards.slice();s.push(this.firstLevelFcDataList[e].fcTypeData.last);var o="";this.firstLevelFcDataList[e].modified&&(o=this.actionChannelInfo.gitTimestartAndEnd);var r=this;s.forEach(function(t,a){t.channelId=r.mainReward.channelId,t.order=a+1,t.appid=i,t.typeId=r.firstLevelFcDataList[e].fcType,t.adminId=r.manInfo.manSelected,t.updateAdminId=r.userperadmin.admin.id,t.costing=r.firstLevelFcDataList[e].cacCostType,t.isChange=r.firstLevelFcDataList[e].isChange,t.settlementCycle=r.firstLevelFcDataList[e].settlementCycle,3===r.channelInfo.show&&r.firstLevelFcDataList[e].modified&&(t.id=r.firstLevelFcDataList[e].id,t.channelId=r.firstLevelFcDataList[e].channelId,t.date=""===o?r.firstLevelFcDataList[e].date:o),t.date=r.actionChannelInfo.gitTimestartAndEnd,r.mainReward.data[i].push(t)})}}a.mainReward=this.mainReward.data,a.linkage=this.actionChannelInfo.isSynchro,this.saveChannelFun(a,1)}else 0===this.fcType.isStep?((n={}).price=this.fcType.stepData,n.order=1,8!==this.channelAttributeInfo.attributeSelected?n.typeId=this.rewardTypeInfo.typeSelected:n.typeId="",n.date=this.actionChannelInfo.gitTimestartAndEnd,n.adminId=this.manInfo.manSelected,n.updateAdminId=this.userperadmin.admin.id,n.costing=this.cacCostTypeInfo.typeSelected,n.isChange=this.actionChannelInfo.isChange,n.settlementCycle=this.settlementCycleInfo.typeSelected,3===this.channelInfo.show&&0!==this.editRewards.length&&(n.id=this.editRewards[0].id,n.channelId=this.editRewards[0].channelId,n.date=this.actionChannelInfo.gitTimestartAndEnd),this.actionChannelInfo.rewards.push(n)):(this.actionChannelInfo.rewards=this.fcTypeData.rewards.slice(),this.actionChannelInfo.rewards.push(this.fcTypeData.last),r=this,o="",this.actionChannelInfo.rewards.length!==this.editRewards.length&&(o=this.actionChannelInfo.gitTimestartAndEnd),this.actionChannelInfo.rewards.forEach(function(e,t){e.order=t+1,e.typeId=r.rewardTypeInfo.typeSelected,e.adminId=r.manInfo.manSelected,e.updateAdminId=r.userperadmin.admin.id,e.costing=r.cacCostTypeInfo.typeSelected,e.isChange=r.actionChannelInfo.isChange,e.settlementCycle=r.settlementCycleInfo.typeSelected,3===r.channelInfo.show&&0!==r.editRewards.length&&(e.id=r.editRewards[0].id,e.channelId=r.editRewards[0].channelId),e.date=r.actionChannelInfo.gitTimestartAndEnd})),a.rewards=this.actionChannelInfo.rewards,this.saveChannelFun(a)}else this.toast("分成起始时间不能为空","warning");else this.toast("负责人不能为空","warning")}else this.toast("渠道细分不能为空","warning");else this.toast("渠道类型不能为空","warning");else this.toast("渠道属性不能为空","warning");else this.toast("所属APP不能为空","warning");else this.toast("渠道名称不能为空","warning")}),s()(n,"saveChannelFun",function(e,t){var a=this;this.loading5=!0,Object(h.f)(e).then(function(e){a.loading5=!1,0===e.data.status?1===t?a.saveFirstChannelFcInfo(e.data.id):1===t&&a.isEdit?a.saveFirstChannelFcInfo():(a.channelInfo.show=1,a.searchChannelList(),a.resetChannelInfo(),a.getChannelParams()):1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.loading5=!1,a.toast("服务器错误，请联系管理员","error")})}),s()(n,"checkChannelNo",function(e){return!0!==e&&(""!==this.actionChannelInfo.channelNo||this.isEdit?this.actionChannelInfo.channelNo.length<4||this.actionChannelInfo.channelNo.length>25?(this.actionValidate.channelNo=!0,this.toast("渠道编码由字母或数字组成的4-25位编码","warning"),!1):(this.actionValidate.channelNo=!1,!0):(this.actionValidate.channelNo=!0,this.toast("渠道编码不能为空","warning"),!1))}),s()(n,"generateTopUrl",function(){0===this.companyInfo.channelCount&&(this.actionChannelInfo.url=this.actionChannelInfo.channelName+"总账号")}),s()(n,"generateChannelCode",function(e){var t=this;if(!this.isEdit||0!==this.editAll)if(""!==this.appInfo.appSelected||"一级渠道"===this.actionChannelInfo.level)if(""!==this.actionChannelInfo.channelNo){var a=this.actionChannelInfo.channelNo===this.originChannelNo;if((this.checkChannelNo(a)||this.noFormal)&&(0===this.companyInfo.channelCount||"一级渠道"===this.actionChannelInfo.level?this.actionChannelInfo.channel=this.actionChannelInfo.channelNo:this.actionChannelInfo.channel=this.channelPrefix+this.currentFirstLevelChannelNo+"_"+this.actionChannelInfo.channelNo,this.noFormal&&(this.actionChannelInfo.channel=this.actionChannelInfo.channelNo,this.noFormal=!1),this.originChannel!==this.actionChannelInfo.channel)){var n={sessionid:this.userperadmin.sessionid,channel:this.actionChannelInfo.channel};Object(h.n)(n).then(function(e){t.loading5=!1,0===e.data.status?(t.actionValidate.channelNo=!1,0===t.companyInfo.channelCount||"一级渠道"===t.actionChannelInfo.level?t.actionChannelInfo.url=t.actionChannelInfo.channelName+"总账号":""!==t.actionChannelInfo.url&&(""===t.actionChannelInfo.channelNo?t.actionChannelInfo.url=t.appInfo.currentUrl:t.actionChannelInfo.url=t.appInfo.currentUrl+t.actionChannelInfo.channel)):1===e.data.status?t.$router.replace("/login"):(t.actionValidate.channelNo=!0,t.toast(e.data.statusMsg,"error"))}).catch(function(e){t.loading5=!1,t.toast("服务器错误，请联系管理员","error")})}}else this.toast("请输入正确的渠道编码","warning");else this.toast("请先选择所属APP","warning")}),s()(n,"selectedFormatter",function(e){1===e?this.channelInfo.channelName=this.channelInfo.channelName.replace(/[-]/g,""):this.channelInfo.channelNo=this.channelInfo.channelNo.replace(/[-]/g,"")}),s()(n,"appChange",function(e){this.actionChannelInfo.appId=this.appInfo.appList[e].id,this.channelPrefix=this.appInfo.appList[e].other2,this.appInfo.currentUrl=this.appInfo.appList[e].other,0===this.companyInfo.channelCount?this.actionChannelInfo.url=this.actionChannelInfo.channelName+"总账号":this.actionChannelInfo.url=this.appInfo.appList[e].other+this.actionChannelInfo.channel,""!==this.actionChannelInfo.channel&&(this.actionChannelInfo.channel=this.channelPrefix+this.actionChannelInfo.channel.substr(1),this.actionChannelInfo.url=this.appInfo.currentUrl+this.actionChannelInfo.channel)}),s()(n,"attributeChange",function(e,t){var a=this;if(8===e){if(this.settlementCycleInfo.disabled=!0,this.settlementCycleInfo.typeSelected=23,"一级渠道"===this.actionChannelInfo.level||1==this.actionChannelInfo.level)for(var n=0;n<this.firstLevelFcDataList.length;n++)this.firstLevelFcDataList[n].settlementCycle=23}else this.settlementCycleInfo.disabled=!1,this.settlementCycleInfo.typeSelected="";1!=t&&(a.channelTypeInfo.typeList=[],a.channelTypeInfo.typeSelected="",this.channelTypeInfo.typeListAll.forEach(function(t,n){t.higherId===e&&a.channelTypeInfo.typeList.push(t)}))}),s()(n,"typeChange",function(e){var t=this;t.channelDivisionInfo.divisionList=[],t.channelDivisionInfo.divisionSelected="",this.channelDivisionInfo.divisionListAll.forEach(function(a,n){a.higherId===e&&t.channelDivisionInfo.divisionList.push(a)})}),s()(n,"rewardTypeChange",function(e){26===e?(this.fcType.text="分成单价",this.fcType.text1="注册用户",this.fcType.unitText="元"):27===e?(this.fcType.text="分成单价",this.fcType.text1="首提用户",this.fcType.unitText="元"):28===e?(this.fcType.text="分成比例",this.fcType.text1="分成比例",this.fcType.unitText="%"):(this.fcType.text="分成单价",this.fcType.text1="开户成功用户数",this.fcType.unitText="元")}),s()(n,"addFcItem",function(e){if(void 0!==e){this.firstLevelFcDataList[e].fcTypeData.length;var t={max:0,price:0};this.firstLevelFcDataList[e].fcTypeData.rewards.push(t),this.firstLevelFcDataList[e].fcTypeData.length++}else this.fcTypeData.length,t={max:0,price:0},this.fcTypeData.rewards.push(t),this.fcTypeData.length++}),s()(n,"minusFcItem",function(e){if(void 0!==e){if(1===this.firstLevelFcDataList[e].fcTypeData.rewards.length)return;this.firstLevelFcDataList[e].fcTypeData.rewards.pop(),this.firstLevelFcDataList[e].fcTypeData.length--}else{if(1===this.fcTypeData.rewards.length)return;this.fcTypeData.rewards.pop(),this.fcTypeData.length--}}),s()(n,"setNextMinValue",function(e){var t=parseInt(this.fcTypeData.rewards[e].max)+1;this.fcTypeData.mins[e+1]=t}),s()(n,"toast",function(e,t){this.$message({type:t,message:e})}),s()(n,"clickLogin",function(e,t){var a=this.userperadmin.sessionid,n=e.id;window.open("http://120.55.184.17:8080/operate/page/index.html?admin="+a+"&mobileNo="+n)}),n)},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page channel-center-page"},[a("h3",{staticClass:"breadnav"},[e._v("当前位置："),a("a",{class:{link:1!==e.show},attrs:{href:"javascript:;"},on:{click:e.backToIndex}},[e._v("渠道商管理")]),a("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.show&&4!==e.show,expression:"show !== 1 && show !== 4"}]},[e._v(" > "+e._s(e.current))]),a("span",{directives:[{name:"show",rawName:"v-show",value:4===e.show,expression:"show === 4"}]},[e._v(" > "),a("a",{class:{link:1!==e.channelInfo.show},attrs:{href:"javascript:;"},on:{click:e.backToChannelList}},[e._v("渠道列表")]),a("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.channelInfo.show,expression:"channelInfo.show !== 1"}]},[e._v(" > "+e._s(e.channelListPosition))])])]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:1===e.show,expression:"show === 1"}],staticClass:"list-wrapper"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],staticClass:"actions",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-col",{attrs:{xs:24,sm:20}},[a("el-select",{staticClass:"longSelector",attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"公司名称"},model:{value:e.companySelected,callback:function(t){e.companySelected=t},expression:"companySelected"}},e._l(e.companyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.company,value:e.id}})})),e._v(" "),a("button",{staticClass:"btn blue",on:{click:e.searchByCompany}},[a("i",{staticClass:"fa fa-search"}),e._v("搜索")])],1),e._v(" "),a("el-col",{staticClass:"btns",attrs:{xs:24,sm:4}},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.addchannel,expression:"addchannel"}],staticClass:"btn green",on:{click:e.addCompany}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增渠道商")])])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.companyTableData,border:"",size:"small"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:e.indexFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"company",label:"公司名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contacts",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"email"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobileno",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.lookchannel,expression:"lookchannel"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.subChannels(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-table"}),e._v("查看渠道")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.Edit,expression:"Edit"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.editCompany(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.login,expression:"login"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.clickLogin(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-user-circle",attrs:{"aria-hidden":"true"}}),e._v("登录")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paginationWrapper",attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataSize},on:{"size-change":e.pageSizeChange,"current-change":e.currentPageChange}})],1)],1),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:2===e.show||3===e.show,expression:"show === 2 || show === 3"},{name:"loading",rawName:"v-loading",value:e.loading4,expression:"loading4"}],staticClass:"action-wrapper",attrs:{"element-loading-spinner":"el-icon-loading"}},[a("h4",[e._v("渠道商账户信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group",class:{required:2===e.show}},[a("label",{attrs:{for:"company"}},[e._v("公司名称")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.company,expression:"actionCompanyInfo.company"}],attrs:{type:"text",maxLength:"30",id:"company",placeholder:"长度不能超过30个字符"},domProps:{value:e.actionCompanyInfo.company},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"company",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"bankAccount"}},[e._v("银行账户")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.bankAccount,expression:"actionCompanyInfo.bankAccount"}],attrs:{type:"text",id:"bankAccount",maxLength:"25",oninput:"value=value.replace(/[^0-9]/g,'')",placeholder:"请输入银行卡号"},domProps:{value:e.actionCompanyInfo.bankAccount},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"bankAccount",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"bank"}},[e._v("开户行")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.bank,expression:"actionCompanyInfo.bank"}],attrs:{type:"text",id:"bank",placeholder:"请输入开户行"},domProps:{value:e.actionCompanyInfo.bank},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"bank",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"dutyParagraph"}},[e._v("税号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.dutyParagraph,expression:"actionCompanyInfo.dutyParagraph"}],attrs:{type:"text",id:"dutyParagraph",maxLength:"18",oninput:"value=value.replace(/[^0-9a-zA-Z]/g,'')",placeholder:"由数字和字母组合的18位税号"},domProps:{value:e.actionCompanyInfo.dutyParagraph},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"dutyParagraph",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"taxNo"}},[e._v("税收编码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.taxNo,expression:"actionCompanyInfo.taxNo"}],attrs:{type:"text",oninput:"value=value.replace(/[^0-9a-zA-Z]/g,'')",placeholder:"请输入税收编码"},domProps:{value:e.actionCompanyInfo.taxNo},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"taxNo",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"phone"}},[e._v("公司电话")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.phone,expression:"actionCompanyInfo.phone"}],attrs:{type:"text",id:"phone",maxLength:"13",oninput:"value=value.replace(/[^0-9]/g,'')",placeholder:"请输入公司电话"},domProps:{value:e.actionCompanyInfo.phone},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"phone",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"address"}},[e._v("公司地址")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.address,expression:"actionCompanyInfo.address"}],attrs:{type:"text",id:"address",placeholder:"请输入公司地址"},domProps:{value:e.actionCompanyInfo.address},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"address",t.target.value)}}})])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group",class:{required:2===e.show}},[a("label",{attrs:{for:"contacts"}},[e._v("联系人")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.contacts,expression:"actionCompanyInfo.contacts"}],attrs:{type:"text",id:"contacts",placeholder:"请输入联系人姓名"},domProps:{value:e.actionCompanyInfo.contacts},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"contacts",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group",class:{required:2===e.show}},[a("label",{attrs:{for:"mobileno"}},[e._v("联系人电话")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.mobileno,expression:"actionCompanyInfo.mobileno"}],class:{error:e.actionValidate.mobileNo},attrs:{type:"text",id:"mobileno",maxLength:"11",oninput:"value=value.replace(/[^0-9]/g,'')",placeholder:"请输入联系人电话"},domProps:{value:e.actionCompanyInfo.mobileno},on:{blur:e.checkMobileNoFun,input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"mobileno",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group",class:{required:2===e.show}},[a("label",{attrs:{for:"email"}},[e._v("联系人邮箱")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.email,expression:"actionCompanyInfo.email"}],class:{error:e.actionValidate.email},attrs:{type:"text",id:"email",placeholder:"请输入联系人邮箱"},domProps:{value:e.actionCompanyInfo.email},on:{blur:e.checkEmailFun,input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"email",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group",class:{required:2===e.show}},[a("label",{attrs:{for:"pwd"}},[e._v("账号初始密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionCompanyInfo.pwd,expression:"actionCompanyInfo.pwd"}],attrs:{type:"text",id:"pwd",placeholder:"请输入渠道商登陆密码"},domProps:{value:e.actionCompanyInfo.pwd},on:{input:function(t){t.target.composing||e.$set(e.actionCompanyInfo,"pwd",t.target.value)}}})])])],1),e._v(" "),a("h4",{directives:[{name:"show",rawName:"v-show",value:e.payforInfo.showPayforViews,expression:"payforInfo.showPayforViews"}]},[e._v("付款公司信息")]),e._v(" "),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.payforInfo.loading,expression:"payforInfo.loading"},{name:"show",rawName:"v-show",value:e.payforInfo.showPayforViews,expression:"payforInfo.showPayforViews"}],staticClass:"form-wrapper payforInfo"},[e.payforInfo.showAddBtn?a("div",{staticClass:"form-item clearfix alignR fixedHieght"},[e.payforInfo.add?e._e():a("button",{staticClass:"btn green",on:{click:e.addPayforInfo}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增")])]):e._e(),e._v(" "),a("div",{staticClass:"form-item"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("产品")]),e._v(" "),a("th",[e._v("付款公司")]),e._v(" "),a("th",[e._v("付款类型")]),e._v(" "),a("th",[e._v("操作")])])]),e._v(" "),a("tbody",[e.payforInfo.add?a("tr",[a("td",[a("el-select",{staticClass:"long",attrs:{id:"paforApp",size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择产品"},model:{value:e.payforInfo.addItem.appid,callback:function(t){e.$set(e.payforInfo.addItem,"appid",t)},expression:"payforInfo.addItem.appid"}},e._l(e.payforInfo.usableAppList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("td",[a("el-select",{staticClass:"long",attrs:{size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择公司"},on:{change:function(t){e.payforChange()}},model:{value:e.payforInfo.addItem.companyId,callback:function(t){e.$set(e.payforInfo.addItem,"companyId",t)},expression:"payforInfo.addItem.companyId"}},e._l(e.payforInfo.companyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.company,value:e.id}})}))],1),e._v(" "),a("td",[a("el-select",{staticClass:"long",attrs:{size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择付款类型"},on:{change:function(t){e.payforChange()}},model:{value:e.payforInfo.addItem.pay,callback:function(t){e.$set(e.payforInfo.addItem,"pay",t)},expression:"payforInfo.addItem.pay"}},e._l(e.payforInfo.payList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("td",[a("span",{class:{active:2===e.payforInfo.addItem.actionState},on:{click:e.addPayforInfoFun}},[a("i",{staticClass:"fa fa-floppy-o"})]),e._v(" "),a("span",{staticClass:"active",on:{click:e.cancelAddPayfor}},[a("i",{staticClass:"fa fa-close"})])])]):e._e(),e._v(" "),e._l(e.payforInfo.list,function(t,n){return a("tr",{attrs:{disabled:"true"}},[a("td",[a("el-select",{staticClass:"middle",attrs:{size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择产品",disabled:!0},model:{value:t.appid,callback:function(a){e.$set(t,"appid",a)},expression:"li.appid"}},e._l(e.payforInfo.appList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("td",[a("el-select",{staticClass:"long",attrs:{size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择公司",disabled:1===t.actionState},on:{change:function(a){e.payforChange(t,n)}},model:{value:t.companyId,callback:function(a){e.$set(t,"companyId",a)},expression:"li.companyId"}},e._l(e.payforInfo.companyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.company,value:e.id}})}))],1),e._v(" "),a("td",[a("el-select",{staticClass:"middle",attrs:{size:"small",clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择付款类型",disabled:1===t.actionState},on:{change:function(a){e.payforChange(t,n)}},model:{value:t.pay,callback:function(a){e.$set(t,"pay",a)},expression:"li.pay"}},e._l(e.payforInfo.payList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("td",[1===t.actionState?a("span",{staticClass:"active",on:{click:function(a){e.editPayforInfo(t,n)}}},[a("i",{staticClass:"fa fa-pencil-square-o"})]):e._e(),e._v(" "),1!==t.actionState?a("span",{class:{active:2===t.actionState},on:{click:function(a){e.savePayforInfo(t,n)}}},[a("i",{staticClass:"fa fa-floppy-o"})]):e._e()])])})],2)])])]),e._v(" "),a("h4",{directives:[{name:"show",rawName:"v-show",value:e.permissionInfo.list.length>0,expression:"permissionInfo.list.length > 0"}]},[e._v("账户权限")]),e._v(" "),a("el-row",{staticClass:"form-wrapper permission-wrapper"},[a("div",{staticClass:"form-wrapper form-wrapper-inner"},e._l(e.permissionInfo.list,function(t,n){return void 0!==e.permissionInfo.app[t.appid]?a("div",{staticClass:"input-group required"},[a("label",{staticClass:"qx"},[e._v("请选择您所需要的报表内容（"),a("span",[e._v(e._s(e.permissionInfo.app[t.appid].name))]),e._v("）")]),e._v(" "),a("div",[a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.registerChartPermission,callback:function(a){e.$set(t,"registerChartPermission",a)},expression:"app.registerChartPermission"}},[e._v("注册数")]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.loginChartPermission,callback:function(a){e.$set(t,"loginChartPermission",a)},expression:"app.loginChartPermission"}},[e._v("登录数")]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.applyChartPermission,callback:function(a){e.$set(t,"applyChartPermission",a)},expression:"app.applyChartPermission"}},[e._v("申请人数")]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.loanAcctChartPermission,callback:function(a){e.$set(t,"loanAcctChartPermission",a)},expression:"app.loanAcctChartPermission"}},[e._v("授信人数")]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.cashNumCharPermission,callback:function(a){e.$set(t,"cashNumCharPermission",a)},expression:"app.cashNumCharPermission"}},[e._v("首提人数")]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-lable":0},model:{value:t.firstCashAmtChartPermission,callback:function(a){e.$set(t,"firstCashAmtChartPermission",a)},expression:"app.firstCashAmtChartPermission"}},[e._v("首次提现总金额(元)")])],1)]):e._e()}))]),e._v(" "),a("div",{staticClass:"submit-btns"},[a("button",{staticClass:"btn submit",on:{click:e.saveCompanyInfo}},[e._v("提交")]),e._v(" "),a("button",{staticClass:"btn cancel",on:{click:e.cancelAdd}},[e._v("取消")])])],1),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:4===e.show&&1===this.channelInfo.show,expression:"show === 4 && this.channelInfo.show === 1"}],staticClass:"sub-table-wrapper"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticClass:"actions",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-col",{attrs:{xs:24,sm:20}},[a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道名称"},model:{value:e.channelInfo.channelName,callback:function(t){e.$set(e.channelInfo,"channelName",t)},expression:"channelInfo.channelName"}},e._l(e.channelInfo.channelList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道号"},model:{value:e.channelInfo.channelNo,callback:function(t){e.$set(e.channelInfo,"channelNo",t)},expression:"channelInfo.channelNo"}},e._l(e.channelInfo.channelNoList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道级别"},model:{value:e.channelInfo.channelLevel,callback:function(t){e.$set(e.channelInfo,"channelLevel",t)},expression:"channelInfo.channelLevel"}},e._l(e.channelInfo.channelLevalList,function(e){return a("el-option",{key:e.channelNo,attrs:{label:e.name,value:e.channelNo}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.channelInfo.channelMan,callback:function(t){e.$set(e.channelInfo,"channelMan",t)},expression:"channelInfo.channelMan"}},e._l(e.channelInfo.channelManList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择产品"},model:{value:e.channelInfo.appSelected,callback:function(t){e.$set(e.channelInfo,"appSelected",t)},expression:"channelInfo.appSelected"}},e._l(e.appInfo.appList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("button",{staticClass:"btn blue",on:{click:e.searchChannelList}},[a("i",{staticClass:"fa fa-search"}),e._v("搜索")])],1),e._v(" "),a("el-col",{staticClass:"btns",attrs:{xs:24,sm:4}},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.addlookchannel,expression:"addlookchannel"}],staticClass:"btn green",on:{click:e.addChannel}},[a("i",{staticClass:"fa fa-plus"}),e._v("新增渠道")])])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading3,expression:"loading3"}],staticClass:"table-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("p",{staticClass:"table-title"},[e._v("当前渠道商："),a("span",[e._v(e._s(e.currentCompany))])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelTableData,border:"",size:"small"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:e.indexFormatter1}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"渠道号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminName",label:"负责人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"渠道级别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appId",label:"产品",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardTypeId",label:"分成方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.level?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.getPayCompanyFun(t.row.proxyId,"fromChannel",t.row)}}},[a("i",{staticClass:"fa fa-window-restore",attrs:{"aria-hidden":"true"}}),e._v("详情")]):e._e(),e._v(" "),1!==t.row.level?a("p",[e._v(e._s(e._f("rewardTypeIdFilter")(t.row.rewardTypeId)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(n){return 1!==t.row.level?a("p",[e._v(e._s(n))]):e._e()})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.lookchannelEdit,expression:"lookchannelEdit"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.editChannel(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.lookchannelHistory,expression:"lookchannelHistory"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.getChannelFcHistoryFun(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-list-alt",attrs:{"aria-hidden":"true"}}),e._v("分成历史")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paginationWrapper",attrs:{background:"","current-page":e.channelInfo.currentPage,"page-sizes":e.channelInfo.pageSizes,"page-size":e.channelInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.channelInfo.dataSize},on:{"size-change":e.channelTablePageSizeChange,"current-change":e.channelTableCurrentPageChange}})],1)],1),e._v(" "),4===e.show&&2===e.channelInfo.show|3===e.channelInfo.show?a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading5,expression:"loading5"}],staticClass:"action-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("h4",[e._v("渠道基础信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"companyName"}},[e._v("归属渠道商")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.companyInfo.name,expression:"companyInfo.name"}],attrs:{type:"text",readonly:"true",id:"companyName"},domProps:{value:e.companyInfo.name},on:{input:function(t){t.target.composing||e.$set(e.companyInfo,"name",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelLevel"}},[e._v("渠道级别")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.level,expression:"actionChannelInfo.level"}],attrs:{type:"text",readonly:"true",id:"channelLevel"},domProps:{value:e.actionChannelInfo.level},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"level",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelName"}},[e._v("渠道名称")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.channelName,expression:"actionChannelInfo.channelName"}],attrs:{type:"text",id:"channelName"},domProps:{value:e.actionChannelInfo.channelName},on:{blur:e.generateTopUrl,input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"channelName",t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"一级渠道"!==e.actionChannelInfo.level,expression:"actionChannelInfo.level !== '一级渠道'"}],staticClass:"input-group required"},[a("label",[e._v("所属APP")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择APP"},on:{change:e.appChange},model:{value:e.appInfo.appSelected,callback:function(t){e.$set(e.appInfo,"appSelected",t)},expression:"appInfo.appSelected"}},e._l(e.appInfo.appList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:t}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelNo"}},[e._v("渠道编码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.channelNo,expression:"actionChannelInfo.channelNo"}],class:{error:e.actionValidate.channelNo},attrs:{type:"text",maxlength:"25",id:"channelNo",readonly:(e.isEdit&&0===e.editAll||""===e.appInfo.appSelected)&&1!==e.currentLevel,oninput:"value=value.replace(/[^0-9a-zA-Z\\_\\-]/g,'')",placeholder:"由字母和数字组合的4-25位编码"},domProps:{value:e.actionChannelInfo.channelNo},on:{blur:e.generateChannelCode,input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"channelNo",t.target.value)}}})]),e._v(" "),e.isEdit&&0===e.editAll?e._e():a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"channelNo"}}),e._v(" "),a("button",{on:{click:e.noFormalChannel}},[a("i",{staticClass:"fa fa-arrow-down",attrs:{"aria-hidden":"true"}})])]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("渠道号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.channel,expression:"actionChannelInfo.channel"}],attrs:{type:"text",id:"channel",readonly:"true"},domProps:{value:e.actionChannelInfo.channel},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"channel",t.target.value)}}})]),e._v(" "),e.createChannelAuthority?a("div",{staticClass:"input-group required"},[a("label",[e._v("可创建子渠道")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.isCreate,callback:function(t){e.$set(e.actionChannelInfo,"isCreate",t)},expression:"actionChannelInfo.isCreate"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("实时同步")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.synchronous,callback:function(t){e.$set(e.actionChannelInfo,"synchronous",t)},expression:"actionChannelInfo.synchronous"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否（默认每日11点发布）")])],1)],1),e._v(" "),e.createChannelAuthority?a("div",{staticClass:"input-group required"},[a("label",[e._v("同步信息到二级渠道")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.isSynchro,callback:function(t){e.$set(e.actionChannelInfo,"isSynchro",t)},expression:"actionChannelInfo.isSynchro"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e()]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道属性")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择渠道属性"},on:{change:e.attributeChange},model:{value:e.channelAttributeInfo.attributeSelected,callback:function(t){e.$set(e.channelAttributeInfo,"attributeSelected",t)},expression:"channelAttributeInfo.attributeSelected"}},e._l(e.channelAttributeInfo.attributeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道类型")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择渠道类型"},on:{change:e.typeChange},model:{value:e.channelTypeInfo.typeSelected,callback:function(t){e.$set(e.channelTypeInfo,"typeSelected",t)},expression:"channelTypeInfo.typeSelected"}},e._l(e.channelTypeInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道细分")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择渠道细分"},model:{value:e.channelDivisionInfo.divisionSelected,callback:function(t){e.$set(e.channelDivisionInfo,"divisionSelected",t)},expression:"channelDivisionInfo.divisionSelected"}},e._l(e.channelDivisionInfo.divisionList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group textAreaInput required"},[a("label",{attrs:{for:"url"}},[e._v("注册链接")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.url,expression:"actionChannelInfo.url"}],attrs:{id:"url",readonly:"true"},domProps:{value:e.actionChannelInfo.url},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"url",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("负责人")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.manInfo.manSelected,callback:function(t){e.$set(e.manInfo,"manSelected",t)},expression:"manInfo.manSelected"}},e._l(e.manInfo.manList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"currentDatetime"}},[e._v("登陆密码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.pwd,expression:"actionChannelInfo.pwd"}],attrs:{type:"text",id:"pwd",maxLength:"12",placeholder:"5-12位数字或字母组合",oninput:"value=value.replace(/[^0-9a-zA-Z]/g,'')"},domProps:{value:e.actionChannelInfo.pwd},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo,"pwd",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{staticStyle:{"vertical-align":"middle"}},[e._v("是否SEO")]),e._v(" "),a("el-radio-group",{attrs:{disabled:e.isEdit||!e.isEdit&&"一级渠道"!==e.actionChannelInfo.level},model:{value:e.actionChannelInfo.seo,callback:function(t){e.$set(e.actionChannelInfo,"seo",t)},expression:"actionChannelInfo.seo"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)])],1),e._v(" "),e.firstLevelFcDataList.length>0?a("h4",[e._v("渠道分成信息")]):e._e(),e._v(" "),e._l(e.firstLevelFcDataList,function(t,n){return"一级渠道"===e.actionChannelInfo.level&&0!==t.length?a("el-row",{key:n,staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",[e._v("所属APP")]),e._v(" "),a("el-select",{attrs:{disabled:!0,filterable:"","default-first-option":"",placeholder:"选择APP"},model:{value:e.firstLevelFcDataList[n].appid,callback:function(t){e.$set(e.firstLevelFcDataList[n],"appid",t)},expression:"firstLevelFcDataList[index].appid"}},e._l(e.appInfo.appList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("分成方式")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择分成方式"},on:{change:e.rewardTypeChange},model:{value:t.fcType,callback:function(a){e.$set(t,"fcType",a)},expression:"fcItem.fcType"}},e._l(e.rewardTypeInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),a("el-radio-group",{on:{click:function(a){e.test(t)}},model:{value:t.isStep,callback:function(a){e.$set(t,"isStep",a)},expression:"fcItem.isStep"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(t.fcType)))]),e._v(" "),0===t.isStep?a("input",{directives:[{name:"model",rawName:"v-model",value:t.stepData,expression:"fcItem.stepData"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:t.stepData},on:{input:function(a){a.target.composing||e.$set(t,"stepData",a.target.value)}}}):e._e(),e._v(" "),1===t.isStep?a("div",{staticClass:"inner-input-group clearfix"},[a("ul",[e._l(t.fcTypeData.rewards,function(n,i){return a("li",{staticClass:"clearfix"},[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(t.fcType))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("firstFcFormatter")(t.fcTypeData.rewards[i-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fcTypeData.rewards[i].max,expression:"fcItem.fcTypeData.rewards[index].max"}],attrs:{type:"text",oninput:"value=value.replace(/[^0-9]/g, '')"},domProps:{value:t.fcTypeData.rewards[i].max},on:{input:function(a){a.target.composing||e.$set(t.fcTypeData.rewards[i],"max",a.target.value)}}})]),e._v(" "),a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumberFilter")(t.fcType))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:n.price,expression:"item.price"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:n.price},on:{input:function(t){t.target.composing||e.$set(n,"price",t.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(t.fcType)))])])])}),e._v(" "),a("li",[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(t.fcType))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("lastFcFormatter")(t.fcTypeData.rewards[t.fcTypeData.length-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{attrs:{type:"text",value:"999999999",readonly:"true"}})]),e._v(" "),a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumberFilter")(t.fcType))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fcTypeData.last.price,expression:"fcItem.fcTypeData.last.price"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:t.fcTypeData.last.price},on:{input:function(a){a.target.composing||e.$set(t.fcTypeData.last,"price",a.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(t.fcType)))])])])],2),e._v(" "),a("button",{on:{click:function(t){e.addFcItem(n)}}},[a("i",{staticClass:"fa fa-plus"})]),e._v(" "),a("button",{on:{click:function(t){e.minusFcItem(n)}}},[a("i",{staticClass:"fa fa-minus"})])]):e._e()])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),a("el-select",{attrs:{disabled:e.settlementCycleInfo.disabled,filterable:"","default-first-option":"",placeholder:"选择结算周期"},model:{value:t.settlementCycle,callback:function(a){e.$set(t,"settlementCycle",a)},expression:"fcItem.settlementCycle"}},e._l(e.settlementCycleInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("成本计算方式")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择计算方式"},model:{value:t.cacCostType,callback:function(a){e.$set(t,"cacCostType",a)},expression:"fcItem.cacCostType"}},e._l(e.cacCostTypeInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("是否脱敏")]),e._v(" "),a("el-radio-group",{model:{value:t.isChange,callback:function(a){e.$set(t,"isChange",a)},expression:"fcItem.isChange"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("起始时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择分成起始时间"},model:{value:e.actionChannelInfo.gitTimestartAndEnd,callback:function(t){e.$set(e.actionChannelInfo,"gitTimestartAndEnd",t)},expression:"actionChannelInfo.gitTimestartAndEnd"}})],1)])],1):e._e()}),e._v(" "),"一级渠道"!==e.actionChannelInfo.level?a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("分成方式")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择分成方式"},on:{change:e.rewardTypeChange},model:{value:e.rewardTypeInfo.typeSelected,callback:function(t){e.$set(e.rewardTypeInfo,"typeSelected",t)},expression:"rewardTypeInfo.typeSelected"}},e._l(e.rewardTypeInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),a("el-radio-group",{model:{value:e.fcType.isStep,callback:function(t){e.$set(e.fcType,"isStep",t)},expression:"fcType.isStep"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(e.rewardTypeInfo.typeSelected)))]),e._v(" "),0===e.fcType.isStep?a("input",{directives:[{name:"model",rawName:"v-model",value:e.fcType.stepData,expression:"fcType.stepData"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:e.fcType.stepData},on:{input:function(t){t.target.composing||e.$set(e.fcType,"stepData",t.target.value)}}}):e._e(),e._v(" "),1===e.fcType.isStep?a("div",{staticClass:"inner-input-group clearfix"},[a("ul",[e._l(e.fcTypeData.rewards,function(t,n){return a("li",{staticClass:"clearfix"},[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(e.rewardTypeInfo.typeSelected))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("firstFcFormatter")(e.fcTypeData.rewards[n-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fcTypeData.rewards[n].max,expression:"fcTypeData.rewards[index].max"}],attrs:{type:"text",oninput:"value=value.replace(/[^0-9]/g, '')"},domProps:{value:e.fcTypeData.rewards[n].max},on:{input:function(t){t.target.composing||e.$set(e.fcTypeData.rewards[n],"max",t.target.value)}}})]),e._v(" "),a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumberFilter")(e.rewardTypeInfo.typeSelected))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"item.price"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:t.price},on:{input:function(a){a.target.composing||e.$set(t,"price",a.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(e.rewardTypeInfo.typeSelected)))])])])}),e._v(" "),a("li",[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(e.rewardTypeInfo.typeSelected))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("lastFcFormatter")(e.fcTypeData.rewards[e.fcTypeData.length-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{attrs:{type:"text",value:"999999999",readonly:"true"}})]),e._v(" "),a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumberFilter")(e.rewardTypeInfo.typeSelected))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fcTypeData.last.price,expression:"fcTypeData.last.price"}],attrs:{type:"text",maxLength:"5",oninput:"value=value.replace(/[^0-9\\.]/g, '')"},domProps:{value:e.fcTypeData.last.price},on:{input:function(t){t.target.composing||e.$set(e.fcTypeData.last,"price",t.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(e.rewardTypeInfo.typeSelected)))])])])],2),e._v(" "),a("button",{on:{click:e.addFcItem}},[a("i",{staticClass:"fa fa-plus"})]),e._v(" "),a("button",{on:{click:e.minusFcItem}},[a("i",{staticClass:"fa fa-minus"})])]):e._e()])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),a("el-select",{attrs:{disabled:e.settlementCycleInfo.disabled,filterable:"","default-first-option":"",placeholder:"选择结算周期"},model:{value:e.settlementCycleInfo.typeSelected,callback:function(t){e.$set(e.settlementCycleInfo,"typeSelected",t)},expression:"settlementCycleInfo.typeSelected"}},e._l(e.settlementCycleInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.channelAttributeInfo.attributeSelected,expression:"channelAttributeInfo.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("成本计算方式")]),e._v(" "),a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"选择计算方式"},model:{value:e.cacCostTypeInfo.typeSelected,callback:function(t){e.$set(e.cacCostTypeInfo,"typeSelected",t)},expression:"cacCostTypeInfo.typeSelected"}},e._l(e.cacCostTypeInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("是否脱敏")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.isChange,callback:function(t){e.$set(e.actionChannelInfo,"isChange",t)},expression:"actionChannelInfo.isChange"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("起始时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择分成起始时间"},model:{value:e.actionChannelInfo.gitTimestartAndEnd,callback:function(t){e.$set(e.actionChannelInfo,"gitTimestartAndEnd",t)},expression:"actionChannelInfo.gitTimestartAndEnd"}})],1)])],1):e._e(),e._v(" "),a("div",{staticClass:"submit-btns"},[a("button",{staticClass:"btn submit",on:{click:e.saveChannelInfo}},[e._v("提交")]),e._v(" "),a("button",{staticClass:"btn cancel",on:{click:e.cancelAddChannel}},[e._v("取消")])])],2):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"渠道分成历史记录",center:"",width:"90%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading6,expression:"loading6"}],staticStyle:{width:"100%"},attrs:{data:e.fcHistoryList,height:"400",border:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(t){return a("p",{attrs:{"close-transition":""}},[e._v(e._s(t))])})}}])}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"分成起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"adminName",label:"负责人"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"任期起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"updateAdminName",label:"操作人"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"分成详情",center:"",width:"400",visible:e.firstLevelChannelRewardInfo.visible},on:{"update:visible":function(t){e.$set(e.firstLevelChannelRewardInfo,"visible",t)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.firstLevelChannelRewardInfo.loading,expression:"firstLevelChannelRewardInfo.loading"}],staticStyle:{width:"100%"},attrs:{data:e.firstLevelChannelRewardInfo.tableData,height:"300",border:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(t){return a("p",{attrs:{"close-transition":""}},[e._v(e._s(t))])})}}])})],1)],1)],1)},staticRenderFns:[]},y=a("vSla")(m,v,!1,function(e){a("zPMl")},"data-v-6e5ff440",null);t.default=y.exports},ZLEe:function(e,t,a){e.exports={default:a("72x0"),__esModule:!0}},"t+Om":function(e,t,a){var n=a("FITv"),i=a("AKd3"),s=a("BRDz");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],o={};o[e]=t(a),n(n.S+n.F*s(function(){a(1)}),"Object",o)}},zPMl:function(e,t){}});
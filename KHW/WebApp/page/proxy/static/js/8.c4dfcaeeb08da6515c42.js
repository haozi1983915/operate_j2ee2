webpackJsonp([8],{P96k:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("dia3"),s=a("P9l9"),i={data:function(){var t=this;return{adminInfo:null,divHearderInfo:!0,statrMonth:"",endMonth:"",fuzherenData:[],fuzherenNochoose:[],checkList:["分月查询","负责人查询"],chooseFuzheren:[],pickerOptions0:{disabledDate:function(e){if(""!=t.endMonth)return e.getTime()>t.endMonth}},pickerOptions1:{disabledDate:function(e){return e.getTime()<t.statrMonth}},fbsData:[],tableloading:!1,tableAdminL:!0}},mounted:function(){this.adminInfo=JSON.parse(localStorage.getItem("userperadmin")),this.getAdminInfo(),this.getNewMonth()},methods:{getAdminInfo:function(){var t={sessionid:this.adminInfo.sessionid},e=this;Object(s._19)(t).then(function(t){e.chooseFuzheren=t.data.adminList;for(var a=0;a<t.data.adminList.length;a++)e.fuzherenNochoose.push(t.data.adminList[a].id);e.divHearderInfo=!1,e.clickSearch()})},getNewMonth:function(){this.statrMonth=Object(n.d)(),this.endMonth=Object(n.d)()},statrMonthFocus:function(){this.statrMonth=""},endMonthFocus:function(){this.endMonth=""},addKPISet:function(){this.addVisible=!0},clickSearch:function(){var t,e,a,i,o;if(this.statrMonth?(t=this.dataToMs(this.statrMonth),e=Object(n.b)(t)):e="",this.endMonth?(a=this.dataToMs(this.endMonth),i=Object(n.b)(a)):i="",o=this.fuzherenData&&this.fuzherenData.length>0?this.fuzherenData:this.fuzherenNochoose,e>i)this.$message.error("结束月不能小于开始月");else{this.tableloading=!0;var l={sessionid:this.adminInfo.sessionid,maxDate:i,minDate:e,adminid:o,tag:this.checkList},r=this;Object(s.F)(l).then(function(t){0===t.data.status&&(r.fbsData=t.data.reportforms_admin,r.tableloading=!1),1===t.data.status&&r.$router.replace("/login")})}},chaneAdminSataus:function(){this.tableAdminL=!this.tableAdminL}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kpicenter"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.divHearderInfo,expression:"divHearderInfo"}],staticClass:"searchHeader",attrs:{"element-loading-text":"拼命加载中..."}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("span",{staticClass:"demonstration"},[t._v("起止时间:")]),t._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"开始月","picker-options":t.pickerOptions0,editable:!1,size:"small"},on:{focus:t.statrMonthFocus},model:{value:t.statrMonth,callback:function(e){t.statrMonth=e},expression:"statrMonth"}}),t._v(" "),a("span",{staticClass:"demonstration"},[t._v("~")]),t._v(" "),a("el-date-picker",{attrs:{type:"month",placeholder:"结束月","picker-options":t.pickerOptions1,editable:!1,size:"small"},on:{focus:t.endMonthFocus},model:{value:t.endMonth,callback:function(e){t.endMonth=e},expression:"endMonth"}})],1)],1),t._v(" "),a("el-row",{staticClass:"fuzherenStyle",attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",size:"small",clearable:"",placeholder:"选择负责人"},model:{value:t.fuzherenData,callback:function(e){t.fuzherenData=e},expression:"fuzherenData"}},t._l(t.chooseFuzheren,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-col",{staticClass:"cheackMarginTop",attrs:{span:8}},[a("el-row",{attrs:{span:24}},[a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-col",{attrs:{span:8}},[a("el-checkbox",{attrs:{label:"分月查询"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{attrs:{label:"负责人查询"},on:{change:t.chaneAdminSataus}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.clickSearch}})],1)],1)],1),t._v(" "),a("div",{staticClass:"tableMargin"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableloading,expression:"tableloading"}],staticStyle:{width:"100%"},attrs:{data:t.fbsData,height:t.fbsData&&t.fbsData.length>0?480:120,border:"",size:"mini","element-loading-text":"拼命加载中...","highlight-current-row":!0}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"month",label:"月份",width:"180"}}),t._v(" "),t.tableAdminL?a("el-table-column",{attrs:{prop:"name",label:"负者人"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"register",label:"总注册数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"kpisum",label:"注册KPI"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bit",label:"进度"}})],1)],1)])},staticRenderFns:[]},l=a("vSla")(i,o,!1,function(t){a("xsB2")},"data-v-982053f0",null);e.default=l.exports},xsB2:function(t,e){}});
webpackJsonp([1],{"+GxS":function(e,t,a){var n=a("NYhm"),i=a("TF39"),o=a("A4ra");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],s={};s[e]=t(a),n(n.S+n.F*o(function(){a(1)}),"Object",s)}},"2+Um":function(e,t,a){var n=a("z/GF"),i=a("mkio"),o=a("//qa").f;e.exports=function(e){return function(t){for(var a,s=i(t),l=n(s),r=l.length,c=0,f=[];r>c;)o.call(s,a=l[c++])&&f.push(e?[a,s[a]]:s[a]);return f}}},"7j7P":function(e,t){},MgeX:function(e,t,a){e.exports={default:a("yRvA"),__esModule:!0}},PMZM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MgeX"),i=a.n(n),o=a("ZLEe"),s=a.n(o),l=a("P9l9"),r=a("dia3"),c={},f={data:function(){return{userperadmin:{},breadNavInfo:{current1:1,level1Items:["查看渠道商信息","渠道管理"],current2:"",level2Items:["编辑渠道信息","渠道历史记录"]},searchProxyParams:{loading:!1,selected:"",list:[]},proxyInfo:{loading:!1,first:0,tableData:[],pagination:{currentPage:1,pageSize:10,pageSizes:[10,20,50,100,200,500,1e3],dataSize:0},actionInfo:{loading:!1,proxyName:"",bankAccount:"",bank:"",dutyParagraph:"",phone:"",address:"",contacts:"",mobileno:"",email:""},chartPermissionInfo:{registerChartPermission:!1,loginChartPermission:!1,applyChartPermission:!1,loanAcctChartPermission:!1,cashNumCharPermission:!1,firstCashAmtChartPermission:!1,totalCashAmtChartPermission:!1}},firstLevelChannelRewardInfo:{visible:!1,loading:!1,tableData:[],editData:[]},searchChannelParams:{loading:!1,parameter:{proxyName:"",proxyId:"",channelName:"",channel:"",level:"",admin:"",status:"",appSelected:""},channelNameList:[],channelList:[],levelList:[{name:"全部渠道",value:""},{name:"一级渠道",value:1},{name:"二级渠道",value:2}],adminList:[],stateList:[{name:"全部状态",value:""},{name:"启用",value:1},{name:"禁用",value:0}]},channelInfo:{loading:!1,first:0,tableData:[],pagination:{currentPage:1,pageSize:10,pageSizes:[10,20,50,100,500,1e3],dataSize:0}},actionChannelInfo:{loading:!1,info:{channelId:"",optimizationId:"",proxyName:"",level:"",channelName:"",channelNo:"",channel:"",isCreate:"",appSelected:"",attributeSelected:"",typeSelected:"",divisionSelected:"",url:"",fcTypeSelected:"",isStep:"",stepData:"",rewards:"",cycleSelected:"",costSelected:"",adminSelected:"",synchronous:0,linkage:"",optiContent:[],optiRate:"",optiRateOld:"",optiTime:"",optiTimeOld:""},selectListInfo:{appList:[],attributeList:[],typeList:[],divisionList:[],fcTypeList:[],cycleList:[],costList:[],adminList:[]},rewardInfo:{list:[],temp:[],editList:[],fcUnitText:""}},firstLevelFcDataList:[],mainReward:{channelId:"",data:{}},channelHistoryInfo:{channelName:"",fcInfo:{loading:!1,tableData:[]},optiInfo:{loading:!1,tableData:[]}},channelStatusInfo:{visible:!1,statusText:"",channelName:"",channelId:"",channel:"",status:""},optiInfo:{loading:!1,visible:!1},qudaoAdminStart:!1,qudaoAdminEdit:!1,qudaoAdminHistory:!1,qudaoAdminProOpt:!0}},mounted:function(){try{for(var e=JSON.parse(unescape(sessionStorage.getItem("userPermiss"))),t=0;t<e.data.length;t++)if("01"==e.data[t].meta&&e.data[t].children&&e.data[t].children.length>0)for(var a=0;a<e.data[t].children.length;a++)if("0102"==e.data[t].children[a].meta&&e.data[t].children[a].children&&e.data[t].children[a].children.length>0)for(var n=0;n<e.data[t].children[a].children.length;n++)"010201"==e.data[t].children[a].children[n].meta?this.qudaoAdminStart="0"!=e.data[t].children[a].children[n].show:"010202"==e.data[t].children[a].children[n].meta?this.qudaoAdminEdit="0"!=e.data[t].children[a].children[n].show:"010203"==e.data[t].children[a].children[n].meta?this.qudaoAdminHistory="0"!=e.data[t].children[a].children[n].show:"010204"==e.data[t].children[a].children[n].meta&&(this.qudaoAdminProOpt="0"!=e.data[t].children[a].children[n].show)}catch(e){}this.userperadmin=JSON.parse(localStorage.getItem("userperadmin")),this.getProxyNameListFun(),this.getChannelParamsFun(),this.getChannelListFun(),this.getEditChannelSelectListFun()},computed:{fcText:function(){switch(this.actionChannelInfo.info.fcTypeSelected){case 26:return this.actionChannelInfo.rewardInfo.fcUnitText="元","注册用户";case 27:return this.actionChannelInfo.rewardInfo.fcUnitText="元","首提用户";case 28:return this.actionChannelInfo.rewardInfo.fcUnitText="%","分成比例";case 29:return this.actionChannelInfo.rewardInfo.fcUnitText="元","开户成功用户数"}}},filters:{fcNumberFilter:function(e){for(var t=0;t<c.length;t++)if(e===c[t].id)return c[t].other.split(",")[0]},fcNumber1Filter:function(e){for(var t=0;t<c.length;t++)if(e===c[t].id)return c[t].other.split(",")[1]},fcNumber2Filter:function(e){for(var t=0;t<c.length;t++)if(e===c[t].id)return c[t].other.split(",")[2]},rewardTypeIdFilter:function(e){for(var t=0;t<c.length;t++)if(e===c[t].id)return c[t].name},toggleStatus:function(e){return 1===e?"启用":"禁用"},fcFormatter:function(e){return e?parseInt(e.max)+1:0},channelStatusFormatterSet:function(e){return 1===e?"启用":"禁用"},optiTimeFormmater:function(e){return 0!==e?Object(r.b)(e):""}},methods:{getPayCompanyFun:function(e,t,a){var n=this,i={sessionid:this.userperadmin.sessionid,proxyid:e};Object(l.N)(i).then(function(e){for(var i=e.data.payCompanyList,o=n.actionChannelInfo.selectListInfo.appList,s=[],l=[],r=0;r<i.length;r++)for(var c=0;c<o.length;c++)if(i[r].appid===o[c].id){if(l.includes(i[r].appid))continue;l.push(i[r].appid),s.push({id:o[c].id,name:o[c].name})}"fromActionChannel"===t?n.getRewardMainFun(a,s):n.getFirstLevelRewardListFun(a,s)}).catch(function(e){n.toast("服务器错误，请联系管理员","error")})},getFirstLevelRewardListFun:function(e,t){for(var a=this,n=[],i=0;i<t.length;i++)n.push(t[i].id);var o={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n.toString()};this.firstLevelChannelRewardInfo.visible=!0,Object(l.W)(o).then(function(e){if(0===e.data.status){var t=a;a.firstLevelChannelRewardInfo.tableData=[],e.data.rewardList.forEach(function(e){e.rewardPrice=t.rewardPriceFormatter(e.rewardPrice),t.firstLevelChannelRewardInfo.tableData.push(e)})}else 1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error");a.firstLevelChannelRewardInfo.loading=!1}).catch(function(e){a.firstLevelChannelRewardInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})},getRewardMainFun:function(e,t){for(var a=this,n=[],i=0;i<t.length;i++)n.push(t[i].id);n=n.toString();var o={sessionid:this.userperadmin.sessionid,channelId:e.id,appid:n};Object(l.X)(o).then(function(t){if(0===t.data.status){var n=t.data.mainReward;a.firstLevelFcDataList.splice(0);var i=s()(n);a.mainReward.channelId=e.id;for(var o=0;o<i.length;o++){var l;if(0!==n[i[o]].length){if(1==n[i[o]].length)l={modified:!0,channelId:n[i[o]][0].channelId,id:n[i[o]][0].id,date:n[i[o]][0].date,appid:parseInt(i[o]),isStep:0,fcType:n[i[o]][0].typeId,settlementCycle:0===n[i[o]][0].settlementCycle?"":n[i[o]][0].settlementCycle,cacCostType:0===n[i[o]][0].costing?"":n[i[o]][0].costing,stepData:n[i[o]][0].price,fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}};else{l={channelId:n[i[o]][0].channelId,id:n[i[o]][0].id,date:n[i[o]][0].date,appid:parseInt(i[o]),isStep:1,fcType:n[i[o]][0].typeId,settlementCycle:0===n[i[o]][0].settlementCycle?"":n[i[o]][0].settlementCycle,cacCostType:0===n[i[o]][0].costing?"":n[i[o]][0].costing};var r={length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]};r.mins=[0],r.rewards=[],n[i[o]].forEach(function(e,t){t===n[i[o]].length-1?r.last.price=e.price:(r.mins.push(e.max+1),r.rewards.push({max:e.max,price:e.price}))}),r.length=n[i[o]].length-1,l.fcTypeData=r}a.firstLevelFcDataList.push(l)}else a.firstLevelFcDataList.push({modified:!1,appid:parseInt(i[o]),isStep:0,fcType:26,settlementCycle:"",cacCostType:"",stepData:"",fcTypeData:{length:1,last:{max:999999999,price:0},rewards:[{max:0,price:0}],mins:[0]}})}}else 1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.toast("服务器错误，请联系管理员1","error")})},indexFormatter:function(e){return this.proxyInfo.pagination.pageSize*(this.proxyInfo.pagination.currentPage-1)+1+e},indexFormatter1:function(e){return this.channelInfo.pagination.pageSize*(this.channelInfo.pagination.currentPage-1)+1+e},editOptiInfoFun:function(e,t){this.resetChannelInfoFun(),this.optiInfo.visible=!0,this.editChannelFun(e)},toggleOptiDialogFun:function(){this.optiInfo.visible=!this.optiInfo.visible},saveChannelOptiFun:function(){this.saveChannelInfoFun(1)},toggleStatusDialogFun:function(){this.channelStatusInfo.visible=!this.channelStatusInfo.visible},toggleStatusFun:function(e,t){this.channelStatusInfo.channelName=e.channelName,this.channelStatusInfo.channelId=e.id,this.channelStatusInfo.channel=e.channel,this.channelStatusInfo.status=e.status,1===e.status?this.channelStatusInfo.statusText="禁用":this.channelStatusInfo.statusText="启用",this.toggleStatusDialogFun()},saveChannelStatusFun:function(){var e=this,t={sessionid:this.userperadmin.sessionid,channelId:this.channelStatusInfo.channelId,status:1===this.channelStatusInfo.status?0:1};Object(l._4)(t).then(function(t){0===t.data.status?(e.toggleStatusDialogFun(),e.getChannelListFun()):1===t.data.status?e.$router.replace("/login"):e.toast(t.data.statusMsg,"error")}).catch(function(t){e.toast("服务器错误，请联系管理员","error")})},getChannelHistoryFun:function(e,t){this.actionChannelInfo.info.channelId=e.id,this.channelHistoryInfo.channelName=e.channelName,this.toggleBreadNav("current2",1),this.getChannelFcHistoryFun(e),this.getOptimizationInfoFun()},getChannelFcHistoryFun:function(e){var t=this,a={sessionid:this.userperadmin.sessionid,channelId:e.id};Object(l.Y)(a).then(function(e){if(0===e.data.status){t.channelHistoryInfo.fcInfo.tableData=e.data.rewardList;var a=t;t.channelHistoryInfo.fcInfo.tableData.forEach(function(e,t,n){n[t].rewardPrice=a.rewardPriceFormatter(e.rewardPrice,1)})}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员","error")})},timeStempFormatter:function(e,t,a){return Object(r.c)(e.date)},timeStempFormatter1:function(e,t,a){return Object(r.c)(e.startDate)},timeStempFormatter2:function(e,t,a){return Object(r.c)(e.updateDate)},cancelSaveChannelFun:function(){this.toggleBreadNav("current2",""),this.resetChannelInfoFun()},saveChannelInfoFun:function(e){var t=this,a="";if(""===this.actionChannelInfo.info.optiRate||""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime)if(""===this.actionChannelInfo.info.optiRate&&""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime)this.toast("“优化比例”和“优化起始时间”必须同时输入","warning");else{if(a=""!==this.actionChannelInfo.info.optiTime&&this.actionChannelInfo.info.optiTime?Object(r.a)(this.actionChannelInfo.info.optiTime):"",this.actionChannelInfo.info.optiRate!==this.actionChannelInfo.info.optiRateOld||this.actionChannelInfo.info.optiTime!==this.actionChannelInfo.info.optiTimeOld){var n=new Date;this.actionChannelInfo.info.optimizationId=n.getTime()}var i=new Date;i=i.getTime();var o={sessionid:this.userperadmin.sessionid,proxyId:this.searchChannelParams.parameter.proxyId,channelId:this.actionChannelInfo.info.channelId,id:this.actionChannelInfo.info.optimizationId,adminId:this.userperadmin.admin.id,synchronous:this.actionChannelInfo.info.synchronous,linkage:this.actionChannelInfo.info.linkage,optimization:this.actionChannelInfo.info.optiRate,startDate:a,updateDate:i};1===e?this.optiInfo.loading=!0:this.actionChannelInfo.loading=!0,Object(l._2)(o).then(function(a){t.actionChannelInfo.loading=!1,t.optiInfo.loading=!1,0===a.data.status?(1===e?t.toggleOptiDialogFun():t.toggleBreadNav("current2",""),t.resetChannelInfoFun(),t.getChannelListFun()):1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.optiInfo.loading=!1,t.actionChannelInfo.loading=!1,t.toast("服务器错误，请联系管理员1","error")})}else this.toast("“优化比例”和“优化起始时间”必须同时输入","warning")},resetChannelInfoFun:function(){this.actionChannelInfo.info.proxyName="",this.actionChannelInfo.info.level="",this.actionChannelInfo.info.channelName="",this.actionChannelInfo.info.channelNo="",this.actionChannelInfo.info.channel="",this.actionChannelInfo.info.isCreate="",this.actionChannelInfo.info.appSelected="",this.actionChannelInfo.info.attributeSelected="",this.actionChannelInfo.info.typeSelected="",this.actionChannelInfo.info.divisionSelected="",this.actionChannelInfo.info.url="",this.actionChannelInfo.info.fcTypeSelected="",this.actionChannelInfo.info.isStep="",this.actionChannelInfo.info.stepData="",this.actionChannelInfo.info.cycleSelected="",this.actionChannelInfo.info.costSelected="",this.actionChannelInfo.info.adminSelected="",this.actionChannelInfo.rewardInfo.list=[],this.actionChannelInfo.info.optimizationId="",this.actionChannelInfo.info.optiTime="",this.actionChannelInfo.info.optiTimeOld="",this.actionChannelInfo.info.optiRate="",this.actionChannelInfo.info.optiRateOld="",this.actionChannelInfo.info.linkage="",this.actionChannelInfo.info.optiContent=[],this.actionChannelInfo.info.synchronous=0},editChannelFun:function(e,t){this.searchChannelParams.parameter.proxyId=e.proxyId;var a="";if(this.searchProxyParams.list.forEach(function(t){t.id===e.proxyId&&(a=t.company)}),this.optiInfo.visible)this.actionChannelInfo.info.channelId=e.id,this.actionChannelInfo.info.optimizationId=e.optimizationId,this.actionChannelInfo.info.synchronous=e.synchronous,this.getOptimizationInfoFun(e.optimizationId);else{this.actionChannelInfo.loading=!0,this.toggleBreadNav("current2",0),this.actionChannelInfo.info.channelId=e.id,this.actionChannelInfo.info.optimizationId=e.optimizationId,this.actionChannelInfo.info.proxyName=a,this.actionChannelInfo.info.level=1===e.level?"一级渠道":"二级渠道",this.actionChannelInfo.info.channelName=e.channelName,this.actionChannelInfo.info.channelNo=e.channelNo,this.actionChannelInfo.info.channel=e.channel,this.actionChannelInfo.info.isCreate=e.isCreate,this.actionChannelInfo.info.appSelected=e.appId,this.actionChannelInfo.info.attributeSelected=e.attribute,this.actionChannelInfo.info.typeSelected=e.type,this.actionChannelInfo.info.divisionSelected=e.subdivision,this.actionChannelInfo.info.url=e.url,this.actionChannelInfo.info.fcTypeSelected=e.rewardTypeId,this.actionChannelInfo.info.synchronous=e.synchronous,1===e.level?this.actionChannelInfo.info.level="一级渠道":this.actionChannelInfo.info.level="二级渠道";var n=this;this.getEditChannelSelectListFun(function(t){t&&(1===e.level?n.getPayCompanyFun(e.proxyId,"fromActionChannel",e):n.getRewardListFun(e.rewardId))}),this.getOptimizationInfoFun(e.optimizationId)}},getOptimizationInfoFun:function(e){var t,a=this;if(e){if(0===e)return;t={sessionid:this.userperadmin.sessionid,optimizationId:e}}else t={sessionid:this.userperadmin.sessionid,channelId:this.actionChannelInfo.info.channelId};Object(l.I)(t).then(function(t){0===t.data.status?(a.actionChannelInfo.loading=!1,e?(t.data.optimizationList[0].optimization&&(a.actionChannelInfo.info.optiRate=t.data.optimizationList[0].optimization),t.data.optimizationList[0].startDate&&(a.actionChannelInfo.info.optiTime=Object(r.b)(t.data.optimizationList[0].startDate)),t.data.optimizationList[0].id&&(a.actionChannelInfo.info.optimizationId=t.data.optimizationList[0].id),t.data.optimizationList[0].linkage&&(a.actionChannelInfo.info.linkage=t.data.optimizationList[0].linkage)):a.channelHistoryInfo.optiInfo.tableData=t.data.optimizationList):1===t.data.status?a.$router.replace("/login"):a.toast(t.data.statusMsg,"error")}).catch(function(e){a.actionChannelInfo.loading=!1,a.toast("服务器错误，请联系管理员1","error")})},getRewardListFun:function(e){var t=this,a={sessionid:this.userperadmin.sessionid,rewardId:e};Object(l.W)(a).then(function(e){if(0===e.data.status){t.actionChannelInfo.loading=!1,t.actionChannelInfo.rewardInfo.list=e.data.rewardList;var a=e.data.rewardList.length;0!==a&&(1===a?(t.actionChannelInfo.info.isStep=0,t.actionChannelInfo.info.stepData=e.data.rewardList[0].price,t.actionChannelInfo.info.cycleSelected=e.data.rewardList[0].settlementCycle,t.actionChannelInfo.info.costSelected=e.data.rewardList[0].costing,t.actionChannelInfo.info.adminSelected=e.data.rewardList[0].adminId.toString()):(t.actionChannelInfo.info.isStep=1,t.actionChannelInfo.info.stepData=e.data.rewardList[0].price,t.actionChannelInfo.info.cycleSelected=e.data.rewardList[0].settlementCycle,t.actionChannelInfo.info.costSelected=e.data.rewardList[0].costing,t.actionChannelInfo.info.adminSelected=e.data.rewardList[0].adminId.toString()))}else 1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.actionChannelInfo.loading=!1,t.toast("服务器错误，请联系管理员1","error")})},getEditChannelSelectListFun:function(e){var t=this,a={sessionid:this.userperadmin.sessionid};Object(l.G)(a).then(function(a){if(0===a.data.status){if(t.actionChannelInfo.selectListInfo.appList=a.data.appList,t.actionChannelInfo.selectListInfo.attributeList=a.data.channelAttribute,t.actionChannelInfo.selectListInfo.typeList=a.data.channelType,t.actionChannelInfo.selectListInfo.divisionList=a.data.channelSubdivision,a.data.adminIdList&&0!==a.data.adminIdList.length){var n=t;n.actionChannelInfo.selectListInfo.adminList=[],a.data.adminIdList.forEach(function(e,t){var a=e.split(","),i={id:a[0],name:a[1],index:a[2]};n.actionChannelInfo.selectListInfo.adminList.push(i)})}c=a.data.rewardTypeList,t.actionChannelInfo.selectListInfo.fcTypeList=a.data.rewardTypeList,t.actionChannelInfo.selectListInfo.cycleList=a.data.settlementCycleList,t.actionChannelInfo.selectListInfo.costList=a.data.costingList,e&&e(!0)}else 1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.toast("服务器错误，请联系管理员2","error")})},channelStatusFormatter:function(e,t,a){return 1===a?"启用":"禁用"},appFormatter:function(e,t,a){var n=a;return this.actionChannelInfo.selectListInfo.appList.forEach(function(e){e.id===a&&(n=e.name)}),n},rewardTypeIdFormatter:function(e,t,a){return 26===a?"CPA单价":27===a?"CPS单价":28===a?"CPS比例":a},rewardPriceFormatter:function(e,t){if(e){var a=e.split(","),n=[],i=[];if(a.length<=1)if(1===t){var o=e.split("/");n.push(o[1])}else n.push(a[0]);else this.actionChannelInfo.rewardInfo.temp=a,a.forEach(function(e,t){var a=e.split("/");i.push({max:a[0],price:a[1]}),n[t]=0===t?"0 - "+a[0]+" : "+a[1]:parseInt(i[t-1].max)+1+" - "+a[0]+" : "+a[1]});return n}},selectedFormatter:function(e){1===e?this.searchChannelParams.parameter.channelName=this.searchChannelParams.parameter.channelName.replace(/[-]/g,""):this.searchChannelParams.parameter.channel=this.searchChannelParams.parameter.channel.replace(/[-]/g,"")},getChannelParamsFun:function(){var e=this,t={sessionid:this.userperadmin.sessionid};this.searchChannelParams.loading=!0,Object(l.D)(t).then(function(t){if(e.searchChannelParams.loading=!1,0===t.data.status){if(e.searchChannelParams.channelNameList=t.data.channelNameList,e.searchChannelParams.channelList=t.data.channelNoList,t.data.adminIdList&&0!==t.data.adminIdList.length){var a=e;a.searchChannelParams.adminList=[];try{t.data.adminIdList.forEach(function(e,t){var n=e.split(","),i={id:n[0],name:n[1]};a.searchChannelParams.adminList.push(i)})}catch(e){}}}else 1===t.data.status?e.$router.replace("/login"):e.toast(t.data.statusMsg,"error")}).catch(function(t){e.searchChannelParams.loading=!1,e.toast("服务器错误，请联系管理员","error")})},searchChannelListFun:function(){this.channelInfo.first=0,this.getChannelListFun()},getChannelListFun:function(e){var t=this,a={sessionid:this.userperadmin.sessionid,first:this.channelInfo.first,pageId:this.channelInfo.pagination.currentPage-1,pageSize:this.channelInfo.pagination.pageSize};void 0!==this.searchChannelParams.parameter.channelName&&""!==this.searchChannelParams.parameter.channelName&&(a.channelName=this.searchChannelParams.parameter.channelName.replace(/[-]/g,"")),void 0!==this.searchChannelParams.parameter.channel&&""!==this.searchChannelParams.parameter.channel&&(a.channel=this.searchChannelParams.parameter.channel.replace(/[-]/g,"")),void 0!==this.searchChannelParams.parameter.level&&""!==this.searchChannelParams.parameter.level&&(a.level=this.searchChannelParams.parameter.level),void 0!==this.searchChannelParams.parameter.admin&&""!==this.searchChannelParams.parameter.admin&&(a.adminId=this.searchChannelParams.parameter.admin),void 0!==this.searchChannelParams.parameter.status&&""!==this.searchChannelParams.parameter.status&&(a.status=this.searchChannelParams.parameter.status),void 0!==this.searchChannelParams.parameter.appSelected&&""!==this.searchChannelParams.parameter.appSelected&&(a.appid=this.searchChannelParams.parameter.appSelected),this.channelInfo.loading=!0,Object(l.B)(a).then(function(a){if(t.channelInfo.loading=!1,0===a.data.status){if(a.data.channelList){var n=t;t.channelInfo.tableData=a.data.channelList,t.channelInfo.tableData.forEach(function(e,t,a){a[t].rewardPrice=n.rewardPriceFormatter(e.rewardPrice)}),1===e&&(t.channelInfo.pagination.dataSize=parseInt(a.data.listSize))}a.data.listSize&&1!==t.channelInfo.first&&(t.channelInfo.pagination.dataSize=parseInt(a.data.listSize))}else 1===a.data.status?t.$router.replace("/login"):t.toast(a.data.statusMsg,"error")}).catch(function(e){t.channelInfo.loading=!1,t.toast("服务器错误，请联系管理员","error")})},channelTablePageSizeChange:function(e){this.channelInfo.first=1,this.channelInfo.pagination.pageSize=e,this.channelInfo.pagination.currentPage=1,this.getChannelListFun()},channelTableCurrentPageChange:function(e){this.channelInfo.first=1,this.channelInfo.pagination.currentPage=e,this.getChannelListFun()},toggleBreadNav:function(e,t){this.breadNavInfo[e]=t,"current1"===e&&(this.breadNavInfo.current2="",""===t&&(this.searchChannelParams.parameter.channelName="",this.searchChannelParams.parameter.channel="",this.searchChannelParams.parameter.level="",this.searchChannelParams.parameter.admin="",this.searchChannelParams.parameter.status="")),this.resetChannelInfoFun()},backToProxyListFun:function(){this.toggleBreadNav("current1",""),this.resetProxyInfoFun()},proxyPageSizeChange:function(e){this.proxyInfo.first=1,this.proxyInfo.pagination.currentPage=1,this.proxyInfo.pagination.pageSize=e,this.getProxyInfoListFun()},proxyCurrentPageChange:function(e){this.proxyInfo.first=1,this.proxyInfo.pagination.currentPage=e,this.getProxyInfoListFun()},getProxyNameListFun:function(){var e=this,t={sessionid:this.userperadmin.sessionid};this.searchProxyParams.loading=!0,Object(l.R)(t).then(function(t){e.searchProxyParams.loading=!1,0===t.data.status?e.searchProxyParams.list=t.data.proxyList:1===t.data.status?e.$router.replace("/login"):e.toast(t.data.statusMsg,"error")}).catch(function(t){e.searchProxyParams.loading=!1,e.toast("服务器错误，请联系管理员","error")})},getProxyInfoListFun:function(e){var t=this;if(!this.proxyInfo.loading){if(e)e.pageId=this.proxyInfo.pagination.currentPage-1,e.pageSize=this.proxyInfo.pagination.pageSize;else if(e={sessionid:this.userperadmin.sessionid,first:this.proxyInfo.first,pageId:this.proxyInfo.pagination.currentPage-1,pageSize:this.proxyInfo.pagination.pageSize},""!==this.searchProxyParams.selected){var a=parseInt(this.searchProxyParams.selected);isNaN(a)?e.company=this.searchProxyParams.selected:e.id=this.searchProxyParams.selected}this.proxyInfo.loading=!0,Object(l.Q)(e).then(function(e){t.proxyInfo.loading=!1,0===e.data.status?(t.proxyInfo.tableData=e.data.proxyList,e.data.listSize&&(t.proxyInfo.pagination.dataSize=parseInt(e.data.listSize))):1===e.data.status?t.$router.replace("/login"):t.toast(e.data.statusMsg,"error")}).catch(function(e){t.proxyInfo.loading=!1,t.toast("服务器错误，请联系管理员","error")})}},searchProxyInfoListFun:function(){var e,t=parseInt(this.searchProxyParams.selected);""===this.searchProxyParams.selected?(this.proxyInfo.first=0,this.getProxyInfoListFun()):isNaN(t)?(e={sessionid:this.userperadmin.sessionid,company:this.searchProxyParams.selected,first:0},this.getProxyInfoListFun(e)):(e={sessionid:this.userperadmin.sessionid,id:this.searchProxyParams.selected,first:0},this.getProxyInfoListFun(e))},viewChannelListFun:function(e,t){this.toggleBreadNav("current1",1),this.searchChannelParams.parameter.proxyId=e.id,this.searchChannelParams.parameter.proxyName=e.company,this.getChannelParamsFun(),this.getChannelListFun()},resetProxyInfoFun:function(){this.proxyInfo.actionInfo.proxyName="",this.proxyInfo.actionInfo.bankAccount="",this.proxyInfo.actionInfo.bank="",this.proxyInfo.actionInfo.dutyParagraph="",this.proxyInfo.actionInfo.phone="",this.proxyInfo.actionInfo.address="",this.proxyInfo.actionInfo.contacts="",this.proxyInfo.actionInfo.mobileno="",this.proxyInfo.actionInfo.email="",this.proxyInfo.chartPermissionInfo={registerChartPermission:!1,loginChartPermission:!1,applyChartPermission:!1,loanAcctChartPermission:!1,cashNumCharPermission:!1,firstCashAmtChartPermission:!1,totalCashAmtChartPermission:!1}},viewProxyInfoFun:function(e,t){var a=this;this.proxyInfo.actionInfo.loading=!0,this.toggleBreadNav("current1",0),this.proxyInfo.actionInfo.proxyName=e.company,this.proxyInfo.actionInfo.bankAccount=e.bankAccount,this.proxyInfo.actionInfo.bank=e.bank,this.proxyInfo.actionInfo.dutyParagraph=e.dutyParagraph,this.proxyInfo.actionInfo.phone=e.phone,this.proxyInfo.actionInfo.address=e.address,this.proxyInfo.actionInfo.contacts=e.contacts,this.proxyInfo.actionInfo.mobileno=e.mobileno,this.proxyInfo.actionInfo.email=e.email;var n={sessionid:this.userperadmin.sessionid,permissionId:e.permissionId};Object(l.E)(n).then(function(e){a.proxyInfo.actionInfo.loading=!1,0===e.data.status?(a.proxyInfo.chartPermissionInfo=e.data.channelPermission,a.proxyInfo.chartPermissionInfo=a.permissionFormatter(a.proxyInfo.chartPermissionInfo,1)):1===e.data.status?a.$router.replace("/login"):a.toast(e.data.statusMsg,"error")}).catch(function(e){a.proxyInfo.actionInfo.loading=!1,a.toast("服务器错误，请联系管理员","error")})},permissionFormatter:function(e,t){var a=s()(e),n=i()(e);if(1===t)n.forEach(function(t,n){"id"!==a[n]&&(e[a[n]]=1===t)});else if(2===t)n.forEach(function(t,n){"id"!==a[n]&&(e[a[n]]=!0===t?1:0)});else{if(3===t)return n.includes(!0);var o=this;n.forEach(function(e,t){"id"!==a[t]?o.chartPermissionInfo[a[t]]=!1:o.chartPermissionInfo[a[t]]=""})}return e},toast:function(e,t){this.$message({type:t,message:e})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page proxy-page"},[a("div",{staticClass:"bread-nav"},[e._v("\n\t\t\t当前位置：\n\t\t\t"),""!==e.breadNavInfo.current1?a("span",{class:{link:""!==e.breadNavInfo.current2},on:{click:function(t){e.toggleBreadNav("current1",1)}}},[e._v(e._s(e.breadNavInfo.level1Items[e.breadNavInfo.current1]))]):e._e(),e._v(" "),""!==e.breadNavInfo.current2?a("span",{staticClass:"item"},[e._v(e._s(e.breadNavInfo.level2Items[e.breadNavInfo.current2]))]):e._e()]),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:""===e.breadNavInfo.current2,expression:"breadNavInfo.current2 === ''"}],staticClass:"sub-table-wrapper"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.searchChannelParams.loading,expression:"searchChannelParams.loading"}],staticClass:"actions",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-col",{attrs:{xs:24}},[a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道名称"},model:{value:e.searchChannelParams.parameter.channelName,callback:function(t){e.$set(e.searchChannelParams.parameter,"channelName",t)},expression:"searchChannelParams.parameter.channelName"}},e._l(e.searchChannelParams.channelNameList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"渠道号"},model:{value:e.searchChannelParams.parameter.channel,callback:function(t){e.$set(e.searchChannelParams.parameter,"channel",t)},expression:"searchChannelParams.parameter.channel"}},e._l(e.searchChannelParams.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道级别"},model:{value:e.searchChannelParams.parameter.level,callback:function(t){e.$set(e.searchChannelParams.parameter,"level",t)},expression:"searchChannelParams.parameter.level"}},e._l(e.searchChannelParams.levelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.searchChannelParams.parameter.admin,callback:function(t){e.$set(e.searchChannelParams.parameter,"admin",t)},expression:"searchChannelParams.parameter.admin"}},e._l(e.searchChannelParams.adminList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道状态"},model:{value:e.searchChannelParams.parameter.status,callback:function(t){e.$set(e.searchChannelParams.parameter,"status",t)},expression:"searchChannelParams.parameter.status"}},e._l(e.searchChannelParams.stateList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择产品"},model:{value:e.searchChannelParams.parameter.appSelected,callback:function(t){e.$set(e.searchChannelParams.parameter,"appSelected",t)},expression:"searchChannelParams.parameter.appSelected"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("button",{staticClass:"btn blue",on:{click:e.searchChannelListFun}},[a("i",{staticClass:"fa fa-search"}),e._v("搜索")])],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.channelInfo.loading,expression:"channelInfo.loading"}],staticClass:"table-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelInfo.tableData,border:"",size:"small"}},[a("el-table-column",{attrs:{type:"index",index:e.indexFormatter1,label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"渠道号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminName",label:"负责人",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"渠道级别",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appId",label:"产品",width:"100",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardTypeId",label:"分成方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.level?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.getPayCompanyFun(t.row.proxyId,"fromChannel",t.row)}}},[a("i",{staticClass:"fa fa-window-restore",attrs:{"aria-hidden":"true"}}),e._v("详情")]):e._e(),e._v(" "),1!==t.row.level?a("p",[e._v(e._s(e._f("rewardTypeIdFilter")(t.row.rewardTypeId)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(n){return a("p",{attrs:{"close-transition":""},on:{click:function(a){e.editOptiInfoFun(t.row,t.$index)}}},[e._v(e._s(n))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"optimization",label:"优化比例(%)",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.qudaoAdminProOpt?a("div",{on:{click:function(a){e.editOptiInfoFun(t.row,t.$index)}}},[e._v(e._s(t.row.optimization))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"优化起始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.editOptiInfoFun(t.row,t.$index)}}},[e._v(e._s(e._f("optiTimeFormmater")(t.row.startDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"渠道状态",width:"80",formatter:e.channelStatusFormatter},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoAdminStart,expression:"qudaoAdminStart"}],class:{status:t.row.status,status1:!t.row.status},attrs:{type:"text",size:"small"},on:{click:function(a){e.toggleStatusFun(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-cogs",attrs:{"aria-hidden":"true"}}),e._v(e._s(e._f("channelStatusFormatterSet")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoAdminEdit,expression:"qudaoAdminEdit"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.editChannelFun(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.qudaoAdminHistory,expression:"qudaoAdminHistory"}],attrs:{type:"text",size:"small"},on:{click:function(a){e.getChannelHistoryFun(t.row,t.$index)}}},[a("i",{staticClass:"fa fa-list-alt",attrs:{"aria-hidden":"true"}}),e._v("历史")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"paginationWrapper",attrs:{background:"","current-page":e.channelInfo.pagination.currentPage,"page-sizes":e.channelInfo.pagination.pageSizes,"page-size":e.channelInfo.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.channelInfo.pagination.dataSize},on:{"size-change":e.channelTablePageSizeChange,"current-change":e.channelTableCurrentPageChange}})],1)],1),e._v(" "),1===e.breadNavInfo.current1&&0===e.breadNavInfo.current2?a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.actionChannelInfo.loading,expression:"actionChannelInfo.loading"}],staticClass:"action-wrapper",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("h4",{staticClass:"action-title"},[e._v("渠道基础信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"companyName"}},[e._v("归属渠道商")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.proxyName,expression:"actionChannelInfo.info.proxyName"}],attrs:{type:"text",readonly:"true",id:"proxyName"},domProps:{value:e.actionChannelInfo.info.proxyName},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"proxyName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelLevel"}},[e._v("渠道级别")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.level,expression:"actionChannelInfo.info.level"}],attrs:{type:"text",readonly:"true",id:"level"},domProps:{value:e.actionChannelInfo.info.level},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"level",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelName"}},[e._v("渠道名称")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channelName,expression:"actionChannelInfo.info.channelName"}],attrs:{type:"text",id:"channelName",readonly:"true"},domProps:{value:e.actionChannelInfo.info.channelName},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"channelName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channelNo"}},[e._v("渠道编码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channelNo,expression:"actionChannelInfo.info.channelNo"}],attrs:{type:"text",id:"channelNo",readonly:"true",oninput:"value=value.replace(/[^0-9a-zA-Z]/g,'')",placeholder:"由字母和数字组合的5-15位编码"},domProps:{value:e.actionChannelInfo.info.channelNo},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"channelNo",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("渠道号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.channel,expression:"actionChannelInfo.info.channel"}],attrs:{type:"text",id:"channel",readonly:"true"},domProps:{value:e.actionChannelInfo.info.channel},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"channel",t.target.value)}}})]),e._v(" "),"一级渠道"===e.actionChannelInfo.info.level?a("div",{staticClass:"input-group required"},[a("label",[e._v("是否可创建子渠道")]),e._v(" "),a("el-radio-group",{attrs:{disabled:""},model:{value:e.actionChannelInfo.info.isCreate,callback:function(t){e.$set(e.actionChannelInfo.info,"isCreate",t)},expression:"actionChannelInfo.info.isCreate"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e(),e._v(" "),"一级渠道"!==e.actionChannelInfo.info.level?a("div",{staticClass:"input-group required"},[a("label",[e._v("所属APP")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择APP"},model:{value:e.actionChannelInfo.info.appSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"appSelected",t)},expression:"actionChannelInfo.info.appSelected"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("是否实时同步")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.info.synchronous,callback:function(t){e.$set(e.actionChannelInfo.info,"synchronous",t)},expression:"actionChannelInfo.info.synchronous"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否（默认每日11点发布）")])],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道属性")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道属性"},model:{value:e.actionChannelInfo.info.attributeSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"attributeSelected",t)},expression:"actionChannelInfo.info.attributeSelected"}},e._l(e.actionChannelInfo.selectListInfo.attributeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道类型")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道类型"},model:{value:e.actionChannelInfo.info.typeSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"typeSelected",t)},expression:"actionChannelInfo.info.typeSelected"}},e._l(e.actionChannelInfo.selectListInfo.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("渠道细分")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择渠道细分"},model:{value:e.actionChannelInfo.info.divisionSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"divisionSelected",t)},expression:"actionChannelInfo.info.divisionSelected"}},e._l(e.actionChannelInfo.selectListInfo.divisionList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"input-group textAreaInput required"},[a("label",{attrs:{for:"url"}},[e._v("注册链接")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.url,expression:"actionChannelInfo.info.url"}],attrs:{id:"url",readonly:"true"},domProps:{value:e.actionChannelInfo.info.url},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"url",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("负责人")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择负责人"},model:{value:e.actionChannelInfo.info.adminSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"adminSelected",t)},expression:"actionChannelInfo.info.adminSelected"}},e._l(e.actionChannelInfo.selectListInfo.adminList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1),e._v(" "),a("h4",{staticClass:"action-title"},[e._v("分成信息")]),e._v(" "),e._l(e.firstLevelFcDataList,function(t,n){return"一级渠道"===e.actionChannelInfo.info.level&&0!==t.length?a("el-row",{key:n,staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",[e._v("所属APP")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择APP"},model:{value:t.appid,callback:function(a){e.$set(t,"appid",a)},expression:"fcItem.appid"}},e._l(e.actionChannelInfo.selectListInfo.appList,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("分成方式")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分成方式"},model:{value:t.fcType,callback:function(a){e.$set(t,"fcType",a)},expression:"fcItem.fcType"}},e._l(e.actionChannelInfo.selectListInfo.fcTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),a("el-radio-group",{attrs:{disabled:""},model:{value:t.isStep,callback:function(a){e.$set(t,"isStep",a)},expression:"fcItem.isStep"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(t.fcType)))]),e._v(" "),0===t.isStep?a("input",{directives:[{name:"model",rawName:"v-model",value:t.stepData,expression:"fcItem.stepData"}],attrs:{type:"text",readonly:"true",maxLength:"3"},domProps:{value:t.stepData},on:{input:function(a){a.target.composing||e.$set(t,"stepData",a.target.value)}}}):e._e(),e._v(" "),a("span",[e._v(e._s(e._f("fcNumberFilter")(t.fcType)))]),e._v(" "),1===t.isStep?a("div",{staticClass:"inner-input-group clearfix"},[a("ul",e._l(t.fcTypeData.rewards,function(n,i){return a("li",{staticClass:"clearfix"},[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(t.fcType))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("fcFormatter")(t.fcTypeData.rewards[i-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fcTypeData.rewards[i].max,expression:"fcItem.fcTypeData.rewards[index].max"}],attrs:{type:"text",readonly:"true"},domProps:{value:t.fcTypeData.rewards[i].max},on:{input:function(a){a.target.composing||e.$set(t.fcTypeData.rewards[i],"max",a.target.value)}}})]),e._v(" "),a("div",[a("span",[e._v(e._s(e._f("fcNumberFilter")(t.fcType))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:n.price,expression:"item.price"}],attrs:{type:"text",readonly:"true"},domProps:{value:n.price},on:{input:function(t){t.target.composing||e.$set(n,"price",t.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(t.fcType)))])])])}))]):e._e()])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择结算周期"},model:{value:t.settlementCycle,callback:function(a){e.$set(t,"settlementCycle",a)},expression:"fcItem.settlementCycle"}},e._l(e.actionChannelInfo.selectListInfo.cycleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("成本计算方式")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择计算方式"},model:{value:t.cacCostType,callback:function(a){e.$set(t,"cacCostType",a)},expression:"fcItem.cacCostType"}},e._l(e.actionChannelInfo.selectListInfo.costList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1):e._e()}),e._v(" "),"一级渠道"!==e.actionChannelInfo.info.level?a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("分成方式")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择分成方式"},model:{value:e.actionChannelInfo.info.fcTypeSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"fcTypeSelected",t)},expression:"actionChannelInfo.info.fcTypeSelected"}},e._l(e.actionChannelInfo.selectListInfo.fcTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",{attrs:{for:"email"}},[e._v("是否阶梯")]),e._v(" "),a("el-radio-group",{attrs:{disabled:""},model:{value:e.actionChannelInfo.info.isStep,callback:function(t){e.$set(e.actionChannelInfo.info,"isStep",t)},expression:"actionChannelInfo.info.isStep"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required clearfix"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected)))]),e._v(" "),0===e.actionChannelInfo.info.isStep?a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.stepData,expression:"actionChannelInfo.info.stepData"}],attrs:{type:"text",readonly:"true",maxLength:"3"},domProps:{value:e.actionChannelInfo.info.stepData},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"stepData",t.target.value)}}}):e._e(),e._v(" "),a("span",[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected)))]),e._v(" "),1===e.actionChannelInfo.info.isStep?a("div",{staticClass:"inner-input-group clearfix"},[a("ul",e._l(e.actionChannelInfo.rewardInfo.list,function(t,n){return a("li",{key:n,staticClass:"clearfix"},[a("div",[a("span",{staticClass:"text"},[e._v(e._s(e._f("fcNumber1Filter")(e.actionChannelInfo.info.fcTypeSelected))+"：")]),e._v(" "),a("input",{attrs:{type:"text",readonly:"true"},domProps:{value:e._f("fcFormatter")(e.actionChannelInfo.rewardInfo.list[n-1])}}),e._v(" "),a("span",{staticClass:"seperate"},[e._v("~")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.max,expression:"item.max"}],attrs:{type:"text",readonly:"true"},domProps:{value:t.max},on:{input:function(a){a.target.composing||e.$set(t,"max",a.target.value)}}})]),e._v(" "),a("div",[a("span",[e._v(e._s(e._f("fcNumberFilter")(e.actionChannelInfo.info.fcTypeSelected))+"：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"item.price"}],attrs:{type:"text",readonly:"true"},domProps:{value:t.price},on:{input:function(a){a.target.composing||e.$set(t,"price",a.target.value)}}}),e._v(" "),a("span",{staticClass:"unit"},[e._v(e._s(e._f("fcNumber2Filter")(e.actionChannelInfo.info.fcTypeSelected)))])])])}))]):e._e()])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"pwd"}},[e._v("结算周期")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择结算周期"},model:{value:e.actionChannelInfo.info.cycleSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"cycleSelected",t)},expression:"actionChannelInfo.info.cycleSelected"}},e._l(e.actionChannelInfo.selectListInfo.cycleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8!==e.actionChannelInfo.info.attributeSelected,expression:"actionChannelInfo.info.attributeSelected !== 8"}],staticClass:"input-group required"},[a("label",[e._v("成本计算方式")]),e._v(" "),a("el-select",{attrs:{disabled:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"选择计算方式"},model:{value:e.actionChannelInfo.info.costSelected,callback:function(t){e.$set(e.actionChannelInfo.info,"costSelected",t)},expression:"actionChannelInfo.info.costSelected"}},e._l(e.actionChannelInfo.selectListInfo.costList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1):e._e(),e._v(" "),a("h4",{staticClass:"action-title"},[e._v("优化信息")]),e._v(" "),a("el-row",{staticClass:"form-wrapper"},[a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",[e._v("是否联动")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.info.linkage,callback:function(t){e.$set(e.actionChannelInfo.info,"linkage",t)},expression:"actionChannelInfo.info.linkage"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("优化内容")]),e._v(" "),a("el-checkbox-group",{model:{value:e.actionChannelInfo.info.optiContent,callback:function(t){e.$set(e.actionChannelInfo.info,"optiContent",t)},expression:"actionChannelInfo.info.optiContent"}},[a("el-checkbox",{attrs:{label:"优化比例"}}),e._v(" "),a("el-checkbox",{attrs:{label:"优化起始时间"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12}},[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("优化比例(%)")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.optiRate,expression:"actionChannelInfo.info.optiRate"}],attrs:{type:"text",id:"channel",maxLength:"5",oninput:"value=value.replace(/^[^0-9][^0-9\\.]{0,}/g,'')"},domProps:{value:e.actionChannelInfo.info.optiRate},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"optiRate",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("优化起始时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择优化起始时间"},model:{value:e.actionChannelInfo.info.optiTime,callback:function(t){e.$set(e.actionChannelInfo.info,"optiTime",t)},expression:"actionChannelInfo.info.optiTime"}})],1)])],1),e._v(" "),a("div",{staticClass:"btns"},[a("button",{staticClass:"btn submit",on:{click:e.saveChannelInfoFun}},[e._v("提交")]),e._v(" "),a("button",{staticClass:"btn cancel",on:{click:e.cancelSaveChannelFun}},[e._v("取消")])])],2):e._e(),e._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:1===e.breadNavInfo.current1&&1===e.breadNavInfo.current2,expression:"breadNavInfo.current1 === 1 && breadNavInfo.current2 === 1"},{name:"loading",rawName:"v-loading",value:e.proxyInfo.loading,expression:"proxyInfo.loading"}],staticClass:"table-container",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("p",{staticClass:"table-title noBg"},[e._v("当前渠道："),a("span",[e._v(e._s(e.channelHistoryInfo.channelName))])]),e._v(" "),a("p",{staticClass:"table-title mrgt"},[e._v("分成历史记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelHistoryInfo.fcInfo.tableData,height:"300",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(t){return a("p",{attrs:{"close-transition":""}},[e._v(e._s(t))])})}}])}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"分成起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"adminName",label:"负责人"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"任期起始时间",sortable:"",formatter:e.timeStempFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"updateAdminName",label:"操作人"}})],1),e._v(" "),a("p",{staticClass:"table-title mrgt"},[e._v("优化历史记录")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelHistoryInfo.optiInfo.tableData,height:"300",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"optimization",label:"优化比例",formatter:e.rewardTypeIdFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"startDate",label:"优化起始时间",sortable:"",formatter:e.timeStempFormatter1}}),e._v(" "),a("el-table-column",{attrs:{property:"updateDate",label:"操作时间",sortable:"",formatter:e.timeStempFormatter2}}),e._v(" "),a("el-table-column",{attrs:{property:"adminName",label:"操作人"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"切换渠道状态",visible:e.channelStatusInfo.visible,width:"370px",center:""},on:{"update:visible":function(t){e.$set(e.channelStatusInfo,"visible",t)}}},[a("span",[e._v("是否调整 "),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(e.searchChannelParams.parameter.proxyName)+"（公司名称），"+e._s(e.channelStatusInfo.channelName)+"（渠道名称），"+e._s(e.channelStatusInfo.channel)+"（渠道号）")]),e._v("状态为"),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.channelStatusInfo.statusText))]),e._v("？点击确定"),a("span",{staticStyle:{color:"red"}},[e._v("“"+e._s(e.channelStatusInfo.statusText)+"”")]),e._v("该渠道，点击取消返回渠道列表”")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveChannelStatusFun}},[e._v("确 定")]),e._v(" "),a("el-button",{staticClass:"info",on:{click:e.toggleStatusDialogFun}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.optiInfo.loading,expression:"optiInfo.loading"}],attrs:{title:"切换渠道状态",visible:e.optiInfo.visible,width:"400px",center:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.optiInfo,"visible",t)}}},[a("div",[a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("优化比例(%)")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.actionChannelInfo.info.optiRate,expression:"actionChannelInfo.info.optiRate"}],attrs:{type:"text",id:"channel",maxLength:"5",oninput:"value=value.replace(/^[^0-9][^0-9\\.]{0,}/g,'')"},domProps:{value:e.actionChannelInfo.info.optiRate},on:{input:function(t){t.target.composing||e.$set(e.actionChannelInfo.info,"optiRate",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",{attrs:{for:"channel"}},[e._v("优化起始时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择优化起始时间"},model:{value:e.actionChannelInfo.info.optiTime,callback:function(t){e.$set(e.actionChannelInfo.info,"optiTime",t)},expression:"actionChannelInfo.info.optiTime"}})],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("是否联动")]),e._v(" "),a("el-radio-group",{model:{value:e.actionChannelInfo.info.linkage,callback:function(t){e.$set(e.actionChannelInfo.info,"linkage",t)},expression:"actionChannelInfo.info.linkage"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"input-group required"},[a("label",[e._v("优化内容")]),e._v(" "),a("el-checkbox-group",{model:{value:e.actionChannelInfo.info.optiContent,callback:function(t){e.$set(e.actionChannelInfo.info,"optiContent",t)},expression:"actionChannelInfo.info.optiContent"}},[a("el-checkbox",{attrs:{label:"优化比例"}}),e._v(" "),a("el-checkbox",{attrs:{label:"优化起始时间"}})],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveChannelOptiFun}},[e._v("确 定")]),e._v(" "),a("el-button",{staticClass:"info",on:{click:e.toggleOptiDialogFun}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"分成详情",center:"",width:"400",visible:e.firstLevelChannelRewardInfo.visible},on:{"update:visible":function(t){e.$set(e.firstLevelChannelRewardInfo,"visible",t)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.firstLevelChannelRewardInfo.loading,expression:"firstLevelChannelRewardInfo.loading"}],staticStyle:{width:"100%"},attrs:{data:e.firstLevelChannelRewardInfo.tableData,height:"300",border:"","element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{property:"appid",label:"产品",formatter:e.appFormatter}}),e._v(" "),a("el-table-column",{attrs:{property:"typeId",label:"分成方式",formatter:e.rewardTypeIdFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"rewardPrice",label:"分成比例 | 单价",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.rewardPrice,function(t,n){return a("p",{key:n,attrs:{"close-transition":""}},[e._v(e._s(t))])})}}])})],1)],1)],1)},staticRenderFns:[]},h=a("Z0/y")(f,d,!1,function(e){a("7j7P")},"data-v-27629e9c",null);t.default=h.exports},ZLEe:function(e,t,a){e.exports={default:a("vpO9"),__esModule:!0}},magR:function(e,t,a){var n=a("NYhm"),i=a("2+Um")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},sO8L:function(e,t,a){var n=a("TMqw"),i=a("z/GF");a("+GxS")("keys",function(){return function(e){return i(n(e))}})},vpO9:function(e,t,a){a("sO8L"),e.exports=a("TF39").Object.keys},yRvA:function(e,t,a){a("magR"),e.exports=a("TF39").Object.values}});